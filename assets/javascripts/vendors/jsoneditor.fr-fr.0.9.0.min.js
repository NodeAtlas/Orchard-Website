!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).JSONEditor=e()}}(function(){return function e(t,r,a){function i(s,n){if(!r[s]){if(!t[s]){var l="function"==typeof require&&require;if(!n&&l)return l(s,!0);if(o)return o(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var c=r[s]={exports:{}};t[s][0].call(c.exports,function(e){var r=t[s][1][e];return i(r||e)},c,c.exports,e,t,r,a)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<a.length;s++)i(a[s]);return i}({1:[function(e,t,r){(function(e){!function(a){function i(e){throw new RangeError(A[e])}function o(e,t){for(var r=e.length,a=[];r--;)a[r]=t(e[r]);return a}function s(e,t){var r=e.split("@"),a="";return r.length>1&&(a=r[0]+"@",e=r[1]),a+o((e=e.replace(O,".")).split("."),t).join(".")}function n(e){for(var t,r,a=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?a.push(((1023&t)<<10)+(1023&r)+65536):(a.push(t),i--):a.push(t);return a}function l(e){return o(e,function(e){var t="";return e>65535&&(t+=$((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=$(e)}).join("")}function h(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:E}function c(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function d(e,t,r){var a=0;for(e=r?D(e/_):e>>1,e+=D(e/t);e>T*w>>1;a+=E)e=D(e/T);return D(a+(T+1)*e/(e+P))}function u(e){var t,r,a,o,s,n,c,u,p,f,m=[],v=e.length,g=0,y=j,P=S;for((r=e.lastIndexOf(C))<0&&(r=0),a=0;a<r;++a)e.charCodeAt(a)>=128&&i("not-basic"),m.push(e.charCodeAt(a));for(o=r>0?r+1:0;o<v;){for(s=g,n=1,c=E;o>=v&&i("invalid-input"),((u=h(e.charCodeAt(o++)))>=E||u>D((b-g)/n))&&i("overflow"),g+=u*n,p=c<=P?x:c>=P+w?w:c-P,!(u<p);c+=E)n>D(b/(f=E-p))&&i("overflow"),n*=f;P=d(g-s,t=m.length+1,0==s),D(g/t)>b-y&&i("overflow"),y+=D(g/t),g%=t,m.splice(g++,0,y)}return l(m)}function p(e){var t,r,a,o,s,l,h,u,p,f,m,v,g,y,P,_=[];for(v=(e=n(e)).length,t=j,r=0,s=S,l=0;l<v;++l)(m=e[l])<128&&_.push($(m));for(a=o=_.length,o&&_.push(C);a<v;){for(h=b,l=0;l<v;++l)(m=e[l])>=t&&m<h&&(h=m);for(h-t>D((b-r)/(g=a+1))&&i("overflow"),r+=(h-t)*g,t=h,l=0;l<v;++l)if((m=e[l])<t&&++r>b&&i("overflow"),m==t){for(u=r,p=E;f=p<=s?x:p>=s+w?w:p-s,!(u<f);p+=E)P=u-f,y=E-f,_.push($(c(f+P%y,0))),u=D(P/y);_.push($(c(u,0))),s=d(r,g,a==o),r=0,++a}++r,++t}return _.join("")}var f="object"==typeof r&&r&&!r.nodeType&&r,m="object"==typeof t&&t&&!t.nodeType&&t,v="object"==typeof e&&e;v.global!==v&&v.window!==v&&v.self!==v||(a=v);var g,y,b=2147483647,E=36,x=1,w=26,P=38,_=700,S=72,j=128,C="-",N=/^xn--/,k=/[^\x20-\x7E]/,O=/[\x2E\u3002\uFF0E\uFF61]/g,A={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=E-x,D=Math.floor,$=String.fromCharCode;if(g={version:"1.4.1",ucs2:{decode:n,encode:l},decode:u,encode:p,toASCII:function(e){return s(e,function(e){return k.test(e)?"xn--"+p(e):e})},toUnicode:function(e){return s(e,function(e){return N.test(e)?u(e.slice(4).toLowerCase()):e})}},f&&m)if(t.exports==f)m.exports=g;else for(y in g)g.hasOwnProperty(y)&&(f[y]=g[y]);else a.punycode=g}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,r){"use strict";function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,r,o){t=t||"&",r=r||"=";var s={};if("string"!=typeof e||0===e.length)return s;var n=/\+/g;e=e.split(t);var l=1e3;o&&"number"==typeof o.maxKeys&&(l=o.maxKeys);var h=e.length;l>0&&h>l&&(h=l);for(var c=0;c<h;++c){var d,u,p,f,m=e[c].replace(n,"%20"),v=m.indexOf(r);v>=0?(d=m.substr(0,v),u=m.substr(v+1)):(d=m,u=""),p=decodeURIComponent(d),f=decodeURIComponent(u),a(s,p)?i(s[p])?s[p].push(f):s[p]=[s[p],f]:s[p]=f}return s};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],3:[function(e,t,r){"use strict";function a(e,t){if(e.map)return e.map(t);for(var r=[],a=0;a<e.length;a++)r.push(t(e[a],a));return r}var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,r,n){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?a(s(e),function(s){var n=encodeURIComponent(i(s))+r;return o(e[s])?a(e[s],function(e){return n+encodeURIComponent(i(e))}).join(t):n+encodeURIComponent(i(e[s]))}).join(t):n?encodeURIComponent(i(n))+r+encodeURIComponent(i(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},{}],4:[function(e,t,r){"use strict";r.decode=r.parse=e("./decode"),r.encode=r.stringify=e("./encode")},{"./decode":2,"./encode":3}],5:[function(e,t,r){"use strict";function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(e,t,r){if(e&&s.isObject(e)&&e instanceof a)return e;var i=new a;return i.parse(e,t,r),i}var o=e("punycode"),s=e("./util");r.parse=i,r.resolve=function(e,t){return i(e,!1,!0).resolve(t)},r.resolveObject=function(e,t){return e?i(e,!1,!0).resolveObject(t):t},r.format=function(e){return s.isString(e)&&(e=i(e)),e instanceof a?e.format():a.prototype.format.call(e)},r.Url=a;var n=/^([a-z0-9.+-]+:)/i,l=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["<",">",'"',"`"," ","\r","\n","\t"],d=["{","}","|","\\","^","`"].concat(c),u=["'"].concat(d),p=["%","/","?",";","#"].concat(u),f=["/","?","#"],m=/^[+a-z0-9A-Z_-]{0,63}$/,v=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},b={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},E=e("querystring");a.prototype.parse=function(e,t,r){if(!s.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),i=-1!==a&&a<e.indexOf("#")?"?":"#",l=e.split(i),c=/\\/g;l[0]=l[0].replace(c,"/");var d=e=l.join(i);if(d=d.trim(),!r&&1===e.split("#").length){var x=h.exec(d);if(x)return this.path=d,this.href=d,this.pathname=x[1],x[2]?(this.search=x[2],this.query=t?E.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=n.exec(d);if(w){var P=(w=w[0]).toLowerCase();this.protocol=P,d=d.substr(w.length)}if(r||w||d.match(/^\/\/[^@\/]+@[^@\/]+/)){var _="//"===d.substr(0,2);!_||w&&y[w]||(d=d.substr(2),this.slashes=!0)}if(!y[w]&&(_||w&&!b[w])){for(var S=-1,j=0;j<f.length;j++)-1!==(k=d.indexOf(f[j]))&&(-1===S||k<S)&&(S=k);var C,N;-1!==(N=-1===S?d.lastIndexOf("@"):d.lastIndexOf("@",S))&&(C=d.slice(0,N),d=d.slice(N+1),this.auth=decodeURIComponent(C)),S=-1;for(j=0;j<p.length;j++){var k=d.indexOf(p[j]);-1!==k&&(-1===S||k<S)&&(S=k)}-1===S&&(S=d.length),this.host=d.slice(0,S),d=d.slice(S),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var A=this.hostname.split(/\./),j=0,T=A.length;j<T;j++){var D=A[j];if(D&&!D.match(m)){for(var $="",I=0,R=D.length;I<R;I++)D.charCodeAt(I)>127?$+="x":$+=D[I];if(!$.match(m)){var L=A.slice(0,j),F=A.slice(j+1),M=D.match(v);M&&(L.push(M[1]),F.unshift(M[2])),F.length&&(d="/"+F.join(".")+d),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=o.toASCII(this.hostname));var V=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+V,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==d[0]&&(d="/"+d))}if(!g[P])for(var j=0,T=u.length;j<T;j++){var U=u[j];if(-1!==d.indexOf(U)){var q=encodeURIComponent(U);q===U&&(q=escape(U)),d=d.split(U).join(q)}}var H=d.indexOf("#");-1!==H&&(this.hash=d.substr(H),d=d.slice(0,H));var Q=d.indexOf("?");if(-1!==Q?(this.search=d.substr(Q),this.query=d.substr(Q+1),t&&(this.query=E.parse(this.query)),d=d.slice(0,Q)):t&&(this.search="",this.query={}),d&&(this.pathname=d),b[P]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var V=this.pathname||"",z=this.search||"";this.path=V+z}return this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",a=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(o=E.stringify(this.query));var n=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||b[t])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),a&&"#"!==a.charAt(0)&&(a="#"+a),n&&"?"!==n.charAt(0)&&(n="?"+n),r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),n=n.replace("#","%23"),t+i+r+n+a},a.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(s.isString(e)){var t=new a;t.parse(e,!1,!0),e=t}for(var r=new a,i=Object.keys(this),o=0;o<i.length;o++){var n=i[o];r[n]=this[n]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),h=0;h<l.length;h++){var c=l[h];"protocol"!==c&&(r[c]=e[c])}return b[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!b[e.protocol]){for(var d=Object.keys(e),u=0;u<d.length;u++){var p=d[u];r[p]=e[p]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||y[e.protocol])r.pathname=e.pathname;else{for(P=(e.pathname||"").split("/");P.length&&!(e.host=P.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==P[0]&&P.unshift(""),P.length<2&&P.unshift(""),r.pathname=P.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var f=r.pathname||"",m=r.search||"";r.path=f+m}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var v=r.pathname&&"/"===r.pathname.charAt(0),g=e.host||e.pathname&&"/"===e.pathname.charAt(0),E=g||v||r.host&&e.pathname,x=E,w=r.pathname&&r.pathname.split("/")||[],P=e.pathname&&e.pathname.split("/")||[],_=r.protocol&&!b[r.protocol];if(_&&(r.hostname="",r.port=null,r.host&&(""===w[0]?w[0]=r.host:w.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===P[0]?P[0]=e.host:P.unshift(e.host)),e.host=null),E=E&&(""===P[0]||""===w[0])),g)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,w=P;else if(P.length)w||(w=[]),w.pop(),w=w.concat(P),r.search=e.search,r.query=e.query;else if(!s.isNullOrUndefined(e.search))return _&&(r.hostname=r.host=w.shift(),(O=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=O.shift(),r.host=r.hostname=O.shift())),r.search=e.search,r.query=e.query,s.isNull(r.pathname)&&s.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var S=w.slice(-1)[0],j=(r.host||e.host||w.length>1)&&("."===S||".."===S)||""===S,C=0,N=w.length;N>=0;N--)"."===(S=w[N])?w.splice(N,1):".."===S?(w.splice(N,1),C++):C&&(w.splice(N,1),C--);if(!E&&!x)for(;C--;C)w.unshift("..");!E||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),j&&"/"!==w.join("/").substr(-1)&&w.push("");var k=""===w[0]||w[0]&&"/"===w[0].charAt(0);if(_){r.hostname=r.host=k?"":w.length?w.shift():"";var O=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");O&&(r.auth=O.shift(),r.host=r.hostname=O.shift())}return(E=E||r.host&&w.length)&&!k&&w.unshift(""),w.length?r.pathname=w.join("/"):(r.pathname=null,r.path=null),s.isNull(r.pathname)&&s.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},a.prototype.parseHost=function(){var e=this.host,t=l.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":6,punycode:1,querystring:4}],6:[function(e,t,r){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],7:[function(e,t,r){t.exports=e("./src/js/JSONEditor")},{"./src/js/JSONEditor":58}],8:[function(e,t,r){"use strict";function a(e){return y.test(e)}function i(t){function r(e,t){var r;if("string"==typeof e){if(!(r=P(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var a=C(e);r=a.validate||N(a)}var i=r(t);return!0===r.$async?"*"==T._opts.async?m(i):i:(T.errors=r.errors,i)}function v(e,t,r,a){if(Array.isArray(e))for(var i=0;i<e.length;i++)v(e[i],void 0,r,a);else A(t=s.normalizeId(t||e.id)),T._schemas[t]=C(e,r,a,!0)}function E(e,t,r){v(e,t,r,!0)}function x(e,t){var i=e.$schema||T._opts.defaultMeta||w(),o=T._formats.uri;T._formats.uri="function"==typeof o?a:y;var s;try{s=r(i,e)}finally{T._formats.uri=o}if(!s&&t){var n="schema is invalid: "+k();if("log"!=T._opts.validateSchema)throw new Error(n);console.error(n)}return s}function w(){var e=T._opts.meta;return T._opts.defaultMeta="object"==typeof e?e.id||e:T._opts.v5?u.META_SCHEMA_ID:g,T._opts.defaultMeta}function P(e){var t=S(e);switch(typeof t){case"object":return t.validate||N(t);case"string":return P(t);case"undefined":return _(e)}}function _(e){var t=s.schema.call(T,{schema:{}},e);if(t){var r=t.schema,a=t.root,i=t.baseId,n=o.call(T,r,a,void 0,i);return T._fragments[e]=new l({ref:e,fragment:!0,schema:r,root:a,baseId:i,validate:n}),n}}function S(e){return e=s.normalizeId(e),T._schemas[e]||T._refs[e]||T._fragments[e]}function j(e,t){for(var r in e){var a=e[r];a.meta||t&&!t.test(r)||(T._cache.del(a.jsonStr),delete e[r])}}function C(e,t,r,a){if("object"!=typeof e)throw new Error("schema should be object");var i=h(e),o=T._cache.get(i);if(o)return o;a=a||!1!==T._opts.addUsedSchema;var n=s.normalizeId(e.id);n&&a&&A(n);var c,d=!1!==T._opts.validateSchema&&!t;d&&!(c=e.id&&e.id==e.$schema)&&x(e,!0);var u=s.ids.call(T,e),p=new l({id:n,schema:e,localRefs:u,jsonStr:i,meta:r});return"#"!=n[0]&&a&&(T._refs[n]=p),T._cache.put(i,p),d&&c&&x(e,!0),p}function N(e,t){function r(){var t=e.validate,a=t.apply(null,arguments);return r.errors=t.errors,a}if(e.compiling)return e.validate=r,r.schema=e.schema,r.errors=null,r.root=t||r,!0===e.schema.$async&&(r.$async=!0),r;e.compiling=!0;var a;e.meta&&(a=T._opts,T._opts=T._metaOpts);var i;try{i=o.call(T,e.schema,t,e.localRefs)}finally{e.compiling=!1,e.meta&&(T._opts=a)}return e.validate=i,e.refs=i.refs,e.refVal=i.refVal,e.root=i.root,i}function k(e,t){if(!(e=e||T.errors))return"No errors";for(var r=void 0===(t=t||{}).separator?", ":t.separator,a=void 0===t.dataVar?"data":t.dataVar,i="",o=0;o<e.length;o++){var s=e[o];s&&(i+=a+s.dataPath+" "+s.message+r)}return i.slice(0,-r.length)}function O(e,t){"string"==typeof t&&(t=new RegExp(t)),T._formats[e]=t}function A(e){if(T._schemas[e]||T._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}if(!(this instanceof i))return new i(t);var T=this;t=this._opts=p.copy(t)||{},this._schemas={},this._refs={},this._fragments={},this._formats=c(t.format),this._cache=t.cache||new n,this._loadingSchemas={},this._compilations=[],this.RULES=d(),this.validate=r,this.compile=function(e,t){var r=C(e,void 0,t);return r.validate||N(r)},this.addSchema=v,this.addMetaSchema=E,this.validateSchema=x,this.getSchema=P,this.removeSchema=function(e){if(e instanceof RegExp)return j(T._schemas,e),void j(T._refs,e);switch(typeof e){case"undefined":return j(T._schemas),j(T._refs),void T._cache.clear();case"string":var t=S(e);return t&&T._cache.del(t.jsonStr),delete T._schemas[e],void delete T._refs[e];case"object":var r=h(e);T._cache.del(r);var a=e.id;a&&(a=s.normalizeId(a),delete T._schemas[a],delete T._refs[a])}},this.addFormat=O,this.errorsText=k,this._addSchema=C,this._compile=N,t.loopRequired=t.loopRequired||1/0,(t.async||t.transpile)&&f.setup(t),!0===t.beautify&&(t.beautify={indent_size:2}),"property"==t.errorDataPath&&(t._errorDataPathProperty=!0),this._metaOpts=function(){for(var e=p.copy(T._opts),t=0;t<b.length;t++)delete e[b[t]];return e}(),t.formats&&function(){for(var e in T._opts.formats)O(e,T._opts.formats[e])}(),!1!==T._opts.meta&&(E(e("./refs/json-schema-draft-04.json"),g,!0),T._refs["http://json-schema.org/schema"]=g),t.v5&&u.enable(this),"object"==typeof t.meta&&E(t.meta),function(){var e=T._opts.schemas;if(e)if(Array.isArray(e))v(e);else for(var t in e)v(e[t],t)}()}var o=e("./compile"),s=e("./compile/resolve"),n=e("./cache"),l=e("./compile/schema_obj"),h=e("json-stable-stringify"),c=e("./compile/formats"),d=e("./compile/rules"),u=e("./v5"),p=e("./compile/util"),f=e("./async"),m=e("co");t.exports=i,i.prototype.compileAsync=f.compile;var v=e("./keyword");i.prototype.addKeyword=v.add,i.prototype.getKeyword=v.get,i.prototype.removeKeyword=v.remove,i.ValidationError=e("./compile/validation_error");var g="http://json-schema.org/draft-04/schema",y=/^(?:(?:[a-z][a-z0-9+-.]*:)?\/\/)?[^\s]*$/i,b=["removeAdditional","useDefaults","coerceTypes"]},{"./async":9,"./cache":10,"./compile":14,"./compile/formats":13,"./compile/resolve":15,"./compile/rules":16,"./compile/schema_obj":17,"./compile/util":19,"./compile/validation_error":20,"./keyword":45,"./refs/json-schema-draft-04.json":46,"./v5":48,co:49,"json-stable-stringify":51}],9:[function(e,t,r){"use strict";function a(e,t){!1!==t&&(t=!0);var r,i=e.async,o=e.transpile;switch(typeof o){case"string":var s=d[o];if(!s)throw new Error("bad transpiler: "+o);return e._transpileFunc=s(e,t);case"undefined":case"boolean":if("string"==typeof i){if(!(r=c[i]))throw new Error("bad async mode: "+i);return e.transpile=r(e,t)}for(var n=0;n<u.length;n++){var l=u[n];if(a(l,!1))return h.copy(l,e),e.transpile}throw new Error("generators, nodent and regenerator are not available");case"function":return e._transpileFunc=e.transpile;default:throw new Error("bad transpiler: "+o)}}function i(e,t){try{return new Function("(function*(){})()")(),!0}catch(e){if(t)throw new Error("generators not supported")}}function o(e){return n.compile(e).code}function s(e){return l.compile(e,"",{promises:!0,sourcemap:!1}).code}t.exports={setup:a,compile:function(e,t){function r(e,t,a){function o(e,r){if(!a)return t(e,r);setTimeout(function(){t(e,r)})}var s;try{s=i.compile(e)}catch(a){return void(a.missingSchema?function(a){function o(a,o){if(a)return t(a);if(!i._refs[s]&&!i._schemas[s])try{i.addSchema(o,s)}catch(e){return void t(e)}r(e,t)}var s=a.missingSchema;if(i._refs[s]||i._schemas[s])return t(new Error("Schema "+s+" is loaded but "+a.missingRef+" cannot be resolved"));var n=i._loadingSchemas[s];n?"function"==typeof n?i._loadingSchemas[s]=[n,o]:n[n.length]=o:(i._loadingSchemas[s]=o,i._opts.loadSchema(s,function(e,t){var r=i._loadingSchemas[s];if(delete i._loadingSchemas[s],"function"==typeof r)r(e,t);else for(var a=0;a<r.length;a++)r[a](e,t)}))}(a):o(a))}o(null,s)}var a,i=this;try{a=this._addSchema(e)}catch(e){return void setTimeout(function(){t(e)})}if(a.validate)setTimeout(function(){t(null,a.validate)});else{if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");r(e,t,!0)}}};var n,l,h=e("./compile/util"),c={"*":i,"co*":i,es7:function(e,t){try{return new Function("(async function(){})()")(),!0}catch(e){if(t)throw new Error("es7 async functions not supported")}}},d={nodent:function(t,r){try{return l||(l=e("nodent")({log:!1,dontInstallRequireHook:!0})),"es7"!=t.async&&(t.async&&!0!==t.async&&console.warn("nodent transpiles only es7 async functions"),t.async="es7"),s}catch(e){if(r)throw new Error("nodent not available")}},regenerator:function(t,r){try{return n||(n=e("regenerator")).runtime(),t.async&&!0!==t.async||(t.async="es7"),o}catch(e){if(r)throw new Error("regenerator not available")}}},u=[{async:"co*"},{async:"es7",transpile:"nodent"},{async:"co*",transpile:"regenerator"}]},{"./compile/util":19}],10:[function(e,t,r){"use strict";var a=t.exports=function(){this._cache={}};a.prototype.put=function(e,t){this._cache[e]=t},a.prototype.get=function(e){return this._cache[e]},a.prototype.del=function(e){delete this._cache[e]},a.prototype.clear=function(){this._cache={}}},{}],11:[function(e,t,r){"use strict";t.exports={$ref:e("../dotjs/ref"),allOf:e("../dotjs/allOf"),anyOf:e("../dotjs/anyOf"),dependencies:e("../dotjs/dependencies"),enum:e("../dotjs/enum"),format:e("../dotjs/format"),items:e("../dotjs/items"),maximum:e("../dotjs/_limit"),minimum:e("../dotjs/_limit"),maxItems:e("../dotjs/_limitItems"),minItems:e("../dotjs/_limitItems"),maxLength:e("../dotjs/_limitLength"),minLength:e("../dotjs/_limitLength"),maxProperties:e("../dotjs/_limitProperties"),minProperties:e("../dotjs/_limitProperties"),multipleOf:e("../dotjs/multipleOf"),not:e("../dotjs/not"),oneOf:e("../dotjs/oneOf"),pattern:e("../dotjs/pattern"),properties:e("../dotjs/properties"),required:e("../dotjs/required"),uniqueItems:e("../dotjs/uniqueItems"),validate:e("../dotjs/validate")}},{"../dotjs/_limit":22,"../dotjs/_limitItems":23,"../dotjs/_limitLength":24,"../dotjs/_limitProperties":25,"../dotjs/allOf":26,"../dotjs/anyOf":27,"../dotjs/dependencies":30,"../dotjs/enum":31,"../dotjs/format":32,"../dotjs/items":33,"../dotjs/multipleOf":34,"../dotjs/not":35,"../dotjs/oneOf":36,"../dotjs/pattern":37,"../dotjs/properties":39,"../dotjs/ref":40,"../dotjs/required":41,"../dotjs/uniqueItems":43,"../dotjs/validate":44}],12:[function(e,t,r){"use strict";t.exports=function e(t,r){if(t===r)return!0;var a,i=Array.isArray(t),o=Array.isArray(r);if(i&&o){if(t.length!=r.length)return!1;for(a=0;a<t.length;a++)if(!e(t[a],r[a]))return!1;return!0}if(i!=o)return!1;if(t&&r&&"object"==typeof t&&"object"==typeof r){var s=Object.keys(t);if(s.length!==Object.keys(r).length)return!1;var n=t instanceof Date,l=r instanceof Date;if(n&&l)return t.getTime()==r.getTime();if(n!=l)return!1;var h=t instanceof RegExp,c=r instanceof RegExp;if(h&&c)return t.toString()==r.toString();if(h!=c)return!1;for(a=0;a<s.length;a++)if(!Object.prototype.hasOwnProperty.call(r,s[a]))return!1;for(a=0;a<s.length;a++)if(!e(t[s[a]],r[s[a]]))return!1;return!0}return!1}},{}],13:[function(e,t,r){"use strict";function a(e){e="full"==e?"full":"fast";var t=h.copy(a[e]);for(var r in a.compare)t[r]={validate:t[r],compare:a.compare[r]};return t}function i(e){var t=e.match(c);if(!t)return!1;var r=+t[1],a=+t[2];return r>=1&&r<=12&&a>=1&&a<=d[r]}function o(e,t){var r=e.match(u);if(!r)return!1;var a=r[1],i=r[2],o=r[3],s=r[5];return a<=23&&i<=59&&o<=59&&(!t||s)}function s(e){try{return new RegExp(e),!0}catch(e){return!1}}function n(e,t){if(e&&t)return e>t?1:e<t?-1:e===t?0:void 0}function l(e,t){if(e&&t&&(e=e.match(u),t=t.match(u),e&&t))return e=e[1]+e[2]+e[3]+(e[4]||""),t=t[1]+t[2]+t[3]+(t[4]||""),e>t?1:e<t?-1:e===t?0:void 0}var h=e("./util"),c=/^\d\d\d\d-(\d\d)-(\d\d)$/,d=[0,31,29,31,30,31,30,31,31,30,31,30,31],u=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,p=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,f=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:\#(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,m=/^(?:urn\:uuid\:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,v=/^(?:\/(?:[^~\/]|~0|~1)*)*$|^\#(?:\/(?:[a-z0-9_\-\.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,g=/^(?:0|[1-9][0-9]*)(?:\#|(?:\/(?:[^~\/]|~0|~1)*)*)$/;t.exports=a,a.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^[0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s][0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*)?(?:\:|\/)\/?[^\s]*$/i,email:/^[a-z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:p,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:s,uuid:m,"json-pointer":v,"relative-json-pointer":g},a.full={date:i,time:o,"date-time":function(e){var t=e.split(y);return 2==t.length&&i(t[0])&&o(t[1],!0)},uri:function(e){return b.test(e)&&f.test(e)},email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&''*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:function(e){return e.length<=255&&p.test(e)},ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:s,uuid:m,"json-pointer":v,"relative-json-pointer":g},a.compare={date:n,time:l,"date-time":function(e,t){if(e&&t){e=e.split(y),t=t.split(y);var r=n(e[0],t[0]);if(void 0!==r)return r||l(e[1],t[1])}}};var y=/t|\s/i,b=/\/|\:/},{"./util":19}],14:[function(e,t,r){"use strict";function a(){if(void 0===p){try{p=e("js-beautify").js_beautify}catch(e){p=!1}}}function i(e,t,r,n){function P(){var e=q.validate,t=e.apply(null,arguments);return P.errors=e.errors,t}function _(e,r,o,s){var n=!r||r&&r.schema==e;if(r.schema!=t.schema)return i.call(T,e,r,o,s);var v=!0===e.$async;v&&!D.transpile&&g.setup(D);var P=y({isTop:!0,schema:e,isRoot:n,baseId:s,root:r,schemaPath:"",errSchemaPath:"#",errorPath:'""',RULES:Q,validate:y,util:m,resolve:f,resolveRef:S,usePattern:k,useDefault:O,useCustomRule:A,opts:D,formats:H,self:T});P=u($,c)+u(R,l)+u(F,h)+u(V,d)+P,D.beautify&&(a(),p?P=p(P,D.beautify):console.error('"npm install js-beautify" to use beautify option'));var _,j,C=D._transpileFunc;try{j=v&&C?C(P):P,_=new Function("self","RULES","formats","root","refVal","defaults","customRules","co","equal","ucs2length","ValidationError",j)(T,Q,H,t,$,F,V,b,x,E,w),$[0]=_}catch(e){throw console.error("Error compiling schema, function code:",j),e}return _.schema=e,_.errors=null,_.refs=I,_.refVal=$,_.root=n?_:r,v&&(_.$async=!0),B&&(_.sourceCode=P),!0===D.sourceCode&&(_.source={patterns:R,defaults:F}),_}function S(e,a,o){a=f.url(e,a);var s,n,l=I[a];if(void 0!==l)return s=$[l],n="refVal["+l+"]",N(s,n);if(!o&&t.refs){var h=t.refs[a];if(void 0!==h)return s=t.refVal[h],n=j(a,s),N(s,n)}n=j(a);var c=f.call(T,_,t,a);if(!c){var d=r&&r[a];d&&(c=f.inlineRef(d,D.inlineRefs)?d:i.call(T,d,t,r,e))}return c?(C(a,c),N(c,n)):void 0}function j(e,t){var r=$.length;return $[r]=t,I[e]=r,"refVal"+r}function C(e,t){var r=I[e];$[r]=t}function N(e,t){return"object"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&e.$async}}function k(e){var t=L[e];return void 0===t&&(t=L[e]=R.length,R[t]=e),"pattern"+t}function O(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return m.toQuotedString(e);case"object":if(null===e)return"null";var t=v(e),r=M[t];return void 0===r&&(r=M[t]=F.length,F[r]=e),"default"+r}}function A(e,t,r,a){var i=e.definition.validateSchema;if(i&&!1!==T._opts.validateSchema&&!i(t)){var o="keyword schema is invalid: "+T.errorsText(i.errors);if("log"!=T._opts.validateSchema)throw new Error(o);console.error(o)}var s,n=e.definition.compile,l=e.definition.inline,h=e.definition.macro;n?s=n.call(T,t,r,a):h?(s=h.call(T,t,r,a),!1!==D.validateSchema&&T.validateSchema(s,!0)):s=l?l.call(T,a,e.keyword,t,r):e.definition.validate;var c=V.length;return V[c]=s,{code:"customRule"+c,validate:s}}var T=this,D=this._opts,$=[void 0],I={},R=[],L={},F=[],M={},V=[],B=!1!==D.sourceCode;t=t||{schema:e,refVal:$,refs:I};var U=o.call(this,e,t,n),q=this._compilations[U.index];if(U.compiling)return q.callValidate=P;var H=this._formats,Q=this.RULES;try{var z=_(e,t,r,n);q.validate=z;var J=q.callValidate;return J&&(J.schema=z.schema,J.errors=null,J.refs=z.refs,J.refVal=z.refVal,J.root=z.root,J.$async=z.$async,B&&(J.sourceCode=z.sourceCode)),z}finally{s.call(this,e,t,n)}}function o(e,t,r){var a=n.call(this,e,t,r);return a>=0?{index:a,compiling:!0}:(a=this._compilations.length,this._compilations[a]={schema:e,root:t,baseId:r},{index:a,compiling:!1})}function s(e,t,r){var a=n.call(this,e,t,r);a>=0&&this._compilations.splice(a,1)}function n(e,t,r){for(var a=0;a<this._compilations.length;a++){var i=this._compilations[a];if(i.schema==e&&i.root==t&&i.baseId==r)return a}return-1}function l(e,t){return"var pattern"+e+" = new RegExp("+m.toQuotedString(t[e])+");"}function h(e){return"var default"+e+" = defaults["+e+"];"}function c(e,t){return t[e]?"var refVal"+e+" = refVal["+e+"];":""}function d(e){return"var customRule"+e+" = customRules["+e+"];"}function u(e,t){if(!e.length)return"";for(var r="",a=0;a<e.length;a++)r+=t(a,e);return r}var p,f=e("./resolve"),m=e("./util"),v=e("json-stable-stringify"),g=e("../async"),y=e("../dotjs/validate"),b=e("co"),E=m.ucs2length,x=e("./equal"),w=e("./validation_error");t.exports=i},{"../async":9,"../dotjs/validate":44,"./equal":12,"./resolve":15,"./util":19,"./validation_error":20,co:49,"json-stable-stringify":51}],15:[function(e,t,r){"use strict";function a(e,t,r){var o=this._refs[r];if("string"==typeof o){if(!this._refs[o])return a.call(this,e,t,o);o=this._refs[o]}if((o=o||this._schemas[r])instanceof g)return n(o.schema,this._opts.inlineRefs)?o.schema:o.validate||this._compile(o);var s,l,h,c=i.call(this,t,r);return c&&(s=c.schema,t=c.root,h=c.baseId),s instanceof g?l=s.validate||e.call(this,s.schema,t,void 0,h):s&&(l=n(s,this._opts.inlineRefs)?s:e.call(this,s,t,void 0,h)),l}function i(e,t){var r=f.parse(t,!1,!0),a=d(r),i=c(e.schema.id);if(a!==i){var n=u(a),l=this._refs[n];if("string"==typeof l)return o.call(this,e,l,r);if(l instanceof g)l.validate||this._compile(l),e=l;else{if(!((l=this._schemas[n])instanceof g))return;if(l.validate||this._compile(l),n==u(t))return{schema:l,root:e,baseId:i};e=l}if(!e.schema)return;i=c(e.schema.id)}return s.call(this,r,i,e.schema,e)}function o(e,t,r){var a=i.call(this,e,t);if(a){var o=a.schema,n=a.baseId;return e=a.root,o.id&&(n=p(n,o.id)),s.call(this,r,n,o,e)}}function s(e,t,r,a){if(e.hash=e.hash||"","#/"==e.hash.slice(0,2)){for(var o=e.hash.split("/"),s=1;s<o.length;s++){var n=o[s];if(n){if(n=v.unescapeFragment(n),!(r=r[n]))break;if(r.id&&!y[n]&&(t=p(t,r.id)),r.$ref){var l=p(t,r.$ref),h=i.call(this,a,l);h&&(r=h.schema,a=h.root,t=h.baseId)}}}return r&&r!=a.schema?{schema:r,root:a,baseId:t}:void 0}}function n(e,t){return!1!==t&&(void 0===t||!0===t?l(e):t?h(e)<=t:void 0)}function l(e){var t;if(Array.isArray(e)){for(var r=0;r<e.length;r++)if("object"==typeof(t=e[r])&&!l(t))return!1}else for(var a in e){if("$ref"==a)return!1;if("object"==typeof(t=e[a])&&!l(t))return!1}return!0}function h(e){var t,r=0;if(Array.isArray(e)){for(var a=0;a<e.length;a++)if("object"==typeof(t=e[a])&&(r+=h(t)),r==1/0)return 1/0}else for(var i in e){if("$ref"==i)return 1/0;if(b[i])r++;else if("object"==typeof(t=e[i])&&(r+=h(t)+1),r==1/0)return 1/0}return r}function c(e,t){return!1!==t&&(e=u(e)),d(f.parse(e,!1,!0))}function d(e){var t=e.protocol||"//"==e.href.slice(0,2)?"//":"";return(e.protocol||"")+t+(e.host||"")+(e.path||"")+"#"}function u(e){return e?e.replace(E,""):""}function p(e,t){return t=u(t),f.resolve(e,t)}var f=e("url"),m=e("./equal"),v=e("./util"),g=e("./schema_obj");t.exports=a,a.normalizeId=u,a.fullPath=c,a.url=p,a.ids=function(e){function t(e,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)t.call(this,e[o],r+"/"+o,i);else if(e&&"object"==typeof e){if("string"==typeof e.id){var s=i=i?f.resolve(i,e.id):e.id;s=u(s);var n=this._refs[s];if("string"==typeof n&&(n=this._refs[n]),n&&n.schema){if(!m(e,n.schema))throw new Error('id "'+s+'" resolves to more than one schema')}else if(s!=u(r))if("#"==s[0]){if(a[s]&&!m(e,a[s]))throw new Error('id "'+s+'" resolves to more than one schema');a[s]=e}else this._refs[s]=r}for(var l in e)t.call(this,e[l],r+"/"+v.escapeFragment(l),i)}}var r=u(e.id),a={};return t.call(this,e,c(r,!1),r),a},a.inlineRef=n,a.schema=i;var y=v.toHash(["properties","patternProperties","enum","dependencies","definitions"]),b=v.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]),E=/#\/?$/},{"./equal":12,"./schema_obj":17,"./util":19,url:5}],16:[function(e,t,r){"use strict";var a=e("./_rules"),i=e("./util").toHash;t.exports=function(){var e=[{type:"number",rules:["maximum","minimum","multipleOf"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","uniqueItems","items"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","properties"]},{rules:["$ref","enum","not","anyOf","oneOf","allOf"]}],t=["type","additionalProperties","patternProperties"],r=["additionalItems","$schema","id","title","description","default"],o=["number","integer","string","array","object","boolean","null"];return e.all=i(t),e.forEach(function(r){r.rules=r.rules.map(function(r){return t.push(r),e.all[r]={keyword:r,code:a[r]}})}),e.keywords=i(t.concat(r)),e.types=i(o),e.custom={},e}},{"./_rules":11,"./util":19}],17:[function(e,t,r){"use strict";var a=e("./util");t.exports=function(e){a.copy(e,this)}},{"./util":19}],18:[function(e,t,r){"use strict";t.exports=function(e){for(var t,r=0,a=e.length,i=0;i<a;)r++,(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a&&56320==(64512&(t=e.charCodeAt(i)))&&i++;return r}},{}],19:[function(e,t,r){"use strict";function a(e,t,r){var a=r?" !== ":" === ",i=r?" || ":" && ",o=r?"!":"",s=r?"":"!";switch(e){case"null":return t+a+"null";case"array":return o+"Array.isArray("+t+")";case"object":return"("+o+t+i+"typeof "+t+a+'"object"'+i+s+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+a+'"number"'+i+s+"("+t+" % 1)"+i+t+a+t+")";default:return"typeof "+t+a+'"'+e+'"'}}function i(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}function o(e){return"number"==typeof e?"["+e+"]":u.test(e)?"."+e:"['"+s(e)+"']"}function s(e){return e.replace(p,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function n(e){return"'"+s(e)+"'"}function l(e,t){return'""'==e?t:(e+" + "+t).replace(/' \+ '/g,"")}function h(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function c(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}t.exports={copy:function(e,t){t=t||{};for(var r in e)t[r]=e[r];return t},checkDataType:a,checkDataTypes:function(e,t){switch(e.length){case 1:return a(e[0],t,!0);default:var r="",o=i(e);o.array&&o.object&&(r=o.null?"(":"(!"+t+" || ",r+="typeof "+t+' !== "object")',delete o.null,delete o.array,delete o.object),o.number&&delete o.integer;for(var s in o)r+=(r?" && ":"")+a(s,t,!0);return r}},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var r=[],a=0;a<t.length;a++){var i=t[a];d[i]?r[r.length]=i:"array"===e&&"array"===i&&(r[r.length]=i)}if(r.length)return r}else{if(d[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:i,getProperty:o,escapeQuotes:s,ucs2length:e("./ucs2length"),varOccurences:function(e,t){t+="[^0-9]";var r=e.match(new RegExp(t,"g"));return r?r.length:0},varReplace:function(e,t,r){return t+="([^0-9])",r=r.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),r+"$1")},cleanUpCode:function(e){return e.replace(f,"").replace(m,"").replace(v,"if (!($1))")},cleanUpVarErrors:function(e,t){var r=e.match(g);return r&&2===r.length?t?e.replace(b,"").replace(w,P):e.replace(y,"").replace(E,x):e},schemaHasRules:function(e,t){for(var r in e)if(t[r])return!0},schemaHasRulesExcept:function(e,t,r){for(var a in e)if(a!=r&&t[a])return!0},stableStringify:e("json-stable-stringify"),toQuotedString:n,getPathExpr:function(e,t,r,a){return l(e,r?"'/' + "+t+(a?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):a?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,r){return l(e,n(r?"/"+h(t):o(t)))},getData:function(e,t,r){var a,i,s,n;if(""===e)return"rootData";if("/"==e[0]){if(!_.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,s="rootData"}else{if(!(n=e.match(S)))throw new Error("Invalid JSON-pointer: "+e);if(a=+n[1],"#"==(i=n[2])){if(a>=t)throw new Error("Cannot access property/index "+a+" levels up, current level is "+t);return r[t-a]}if(a>t)throw new Error("Cannot access data "+a+" levels up, current level is "+t);if(s="data"+(t-a||""),!i)return s}for(var l=s,h=i.split("/"),d=0;d<h.length;d++){var u=h[d];u&&(l+=" && "+(s+=o(c(u))))}return l},unescapeFragment:function(e){return c(decodeURIComponent(e))},escapeFragment:function(e){return encodeURIComponent(h(e))},escapeJsonPointer:h};var d=i(["string","number","integer","boolean","null"]),u=/^[a-z$_][a-z$_0-9]*$/i,p=/'|\\/g,f=/else\s*{\s*}/g,m=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,v=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g,g=/[^v\.]errors/g,y=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,b=/var errors = 0;|var vErrors = null;/g,E="return errors === 0;",x="validate.errors = null; return true;",w=/if \(errors === 0\) return true;\s*else throw new ValidationError\(vErrors\);/,P="return true;",_=/^\/(?:[^~]|~0|~1)*$/,S=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/},{"./ucs2length":18,"json-stable-stringify":51}],20:[function(e,t,r){"use strict";function a(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0}t.exports=a,(a.prototype=Object.create(Error.prototype)).constructor=a},{}],21:[function(e,t,r){"use strict";t.exports=function(e,t){var r=" ",a=e.level,i=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),n=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,h="data"+(i||""),c="valid"+a;if(r+="var "+c+" = undefined;",!1===e.opts.format)return r+=" "+c+" = true; ";var d=e.schema.format,u=e.opts.v5&&d.$data,p="";if(u)r+=" var "+(f="format"+a)+" = formats["+e.util.getData(d.$data,i,e.dataPathArr)+"] , "+(m="compare"+a)+" = "+f+" && "+f+".compare;";else{var f=e.formats[d];if(!f||!f.compare)return r+="  "+c+" = true; ";var m="formats"+e.util.getProperty(d)+".compare"}var v,g="formatMaximum"==t,y="formatExclusive"+(g?"Maximum":"Minimum"),b=e.schema[y],E=e.opts.v5&&b&&b.$data,x=g?"<":">",w="result"+a,P=e.opts.v5&&o&&o.$data;if(P?(r+=" var schema"+a+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; ",v="schema"+a):v=o,E){var _=e.util.getData(b.$data,i,e.dataPathArr),S="exclusive"+a,j="' + "+(C="op"+a)+" + '";r+=" var schemaExcl"+a+" = "+_+"; ",r+=" if (typeof "+(_="schemaExcl"+a)+" != 'boolean' && "+_+" !== undefined) { "+c+" = false; ";N=y;(k=k||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(N||"_formatExclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: '"+y+" should be boolean' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";O=r;r=k.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+O+"]); ":r+=" validate.errors = ["+O+"]; return false; ":r+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }  ",l&&(p+="}",r+=" else { "),P&&(r+=" if ("+v+" === undefined) "+c+" = true; else if (typeof "+v+" != 'string') "+c+" = false; else { ",p+="}"),u&&(r+=" if (!"+m+") "+c+" = true; else { ",p+="}"),r+=" var "+w+" = "+m+"("+h+",  ",r+=P?""+v:""+e.util.toQuotedString(o),r+=" ); if ("+w+" === undefined) "+c+" = false; var "+S+" = "+_+" === true; if ("+c+" === undefined) { "+c+" = "+S+" ? "+w+" "+x+" 0 : "+w+" "+x+"= 0; } if (!"+c+") var op"+a+" = "+S+" ? '"+x+"' : '"+x+"=';"}else{j=x;(S=!0===b)||(j+="=");var C="'"+j+"'";P&&(r+=" if ("+v+" === undefined) "+c+" = true; else if (typeof "+v+" != 'string') "+c+" = false; else { ",p+="}"),u&&(r+=" if (!"+m+") "+c+" = true; else { ",p+="}"),r+=" var "+w+" = "+m+"("+h+",  ",r+=P?""+v:""+e.util.toQuotedString(o),r+=" ); if ("+w+" === undefined) "+c+" = false; if ("+c+" === undefined) "+c+" = "+w+" "+x,S||(r+="="),r+=" 0;"}r+=p+"if (!"+c+") { ";var N=t,k=k||[];k.push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(N||"_formatLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { comparison: "+C+", limit:  ",r+=P?""+v:""+e.util.toQuotedString(o),r+=" , exclusive: "+S+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be "+j+' "',r+=P?"' + "+v+" + '":""+e.util.escapeQuotes(o),r+="\"' "),e.opts.verbose&&(r+=" , schema:  ",r+=P?"validate.schema"+s:""+e.util.toQuotedString(o),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var O=r;return r=k.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+O+"]); ":r+=" validate.errors = ["+O+"]; return false; ":r+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="}"}},{}],22:[function(e,t,r){"use strict";t.exports=function(e,t){var r,a=" ",i=e.level,o=e.dataLevel,s=e.schema[t],n=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,c="data"+(o||""),d=e.opts.v5&&s&&s.$data;d?(a+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+i):r=s;var u="maximum"==t,p=u?"exclusiveMaximum":"exclusiveMinimum",f=e.schema[p],m=e.opts.v5&&f&&f.$data,v=u?"<":">",g=u?">":"<";if(m){var y=e.util.getData(f.$data,o,e.dataPathArr),b="exclusive"+i,E="' + "+(x="op"+i)+" + '";a+=" var schemaExcl"+i+" = "+y+"; ",a+=" var exclusive"+i+"; if (typeof "+(y="schemaExcl"+i)+" != 'boolean' && typeof "+y+" != 'undefined') { ";w=p;(P=P||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(w||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: '"+p+" should be boolean' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";_=a;a=P.pop(),!e.compositeRule&&h?e.async?a+=" throw new ValidationError(["+_+"]); ":a+=" validate.errors = ["+_+"]; return false; ":a+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else if( ",d&&(a+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),a+=" ((exclusive"+i+" = "+y+" === true) ? "+c+" "+g+"= "+r+" : "+c+" "+g+" "+r+") || "+c+" !== "+c+") { var op"+i+" = exclusive"+i+" ? '"+v+"' : '"+v+"=';"}else{E=v;(b=!0===f)||(E+="=");var x="'"+E+"'";a+=" if ( ",d&&(a+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),a+=" "+c+" "+g,b&&(a+="="),a+=" "+r+" || "+c+" !== "+c+") {"}var w=t,P=P||[];P.push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(w||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { comparison: "+x+", limit: "+r+", exclusive: "+b+" } ",!1!==e.opts.messages&&(a+=" , message: 'should be "+E+" ",a+=d?"' + "+r:s+"'"),e.opts.verbose&&(a+=" , schema:  ",a+=d?"validate.schema"+n:""+s,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var _=a;return a=P.pop(),!e.compositeRule&&h?e.async?a+=" throw new ValidationError(["+_+"]); ":a+=" validate.errors = ["+_+"]; return false; ":a+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",h&&(a+=" else { "),a}},{}],23:[function(e,t,r){"use strict";t.exports=function(e,t){var r,a=" ",i=e.level,o=e.dataLevel,s=e.schema[t],n=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,c="data"+(o||""),d=e.opts.v5&&s&&s.$data;d?(a+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+i):r=s;var u="maxItems"==t?">":"<";a+="if ( ",d&&(a+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),a+=" "+c+".length "+u+" "+r+") { ";var p=t,f=f||[];f.push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(p||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT have ",a+="maxItems"==t?"more":"less",a+=" than ",a+=d?"' + "+r+" + '":""+s,a+=" items' "),e.opts.verbose&&(a+=" , schema:  ",a+=d?"validate.schema"+n:""+s,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var m=a;return a=f.pop(),!e.compositeRule&&h?e.async?a+=" throw new ValidationError(["+m+"]); ":a+=" validate.errors = ["+m+"]; return false; ":a+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",h&&(a+=" else { "),a}},{}],24:[function(e,t,r){"use strict";t.exports=function(e,t){var r,a=" ",i=e.level,o=e.dataLevel,s=e.schema[t],n=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,c="data"+(o||""),d=e.opts.v5&&s&&s.$data;d?(a+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+i):r=s;var u="maxLength"==t?">":"<";a+="if ( ",d&&(a+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),!1===e.opts.unicode?a+=" "+c+".length ":a+=" ucs2length("+c+") ",a+=" "+u+" "+r+") { ";var p=t,f=f||[];f.push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(p||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT be ",a+="maxLength"==t?"longer":"shorter",a+=" than ",a+=d?"' + "+r+" + '":""+s,a+=" characters' "),e.opts.verbose&&(a+=" , schema:  ",a+=d?"validate.schema"+n:""+s,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var m=a;return a=f.pop(),!e.compositeRule&&h?e.async?a+=" throw new ValidationError(["+m+"]); ":a+=" validate.errors = ["+m+"]; return false; ":a+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",h&&(a+=" else { "),a}},{}],25:[function(e,t,r){"use strict";t.exports=function(e,t){var r,a=" ",i=e.level,o=e.dataLevel,s=e.schema[t],n=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,c="data"+(o||""),d=e.opts.v5&&s&&s.$data;d?(a+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+i):r=s;var u="maxProperties"==t?">":"<";a+="if ( ",d&&(a+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),a+=" Object.keys("+c+").length "+u+" "+r+") { ";var p=t,f=f||[];f.push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(p||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT have ",a+="maxProperties"==t?"more":"less",a+=" than ",a+=d?"' + "+r+" + '":""+s,a+=" properties' "),e.opts.verbose&&(a+=" , schema:  ",a+=d?"validate.schema"+n:""+s,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var m=a;return a=f.pop(),!e.compositeRule&&h?e.async?a+=" throw new ValidationError(["+m+"]); ":a+=" validate.errors = ["+m+"]; return false; ":a+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",h&&(a+=" else { "),a}},{}],26:[function(e,t,r){"use strict";t.exports=function(e,t){var r=" ",a=e.schema[t],i=e.schemaPath+e.util.getProperty(t),o=e.errSchemaPath+"/"+t,s=!e.opts.allErrors,n=e.util.copy(e),l="";n.level++;var h="valid"+n.level,c=n.baseId,d=!0,u=a;if(u)for(var p,f=-1,m=u.length-1;f<m;)p=u[f+=1],e.util.schemaHasRules(p,e.RULES.all)&&(d=!1,n.schema=p,n.schemaPath=i+"["+f+"]",n.errSchemaPath=o+"/"+f,r+="  "+e.validate(n)+" ",n.baseId=c,s&&(r+=" if ("+h+") { ",l+="}"));return s&&(r+=d?" if (true) { ":" "+l.slice(0,-1)+" "),r=e.util.cleanUpCode(r)}},{}],27:[function(e,t,r){"use strict";t.exports=function(e,t){var r=" ",a=e.level,i=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),n=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,h="data"+(i||""),c="valid"+a,d="errs__"+a,u=e.util.copy(e),p="";u.level++;var f="valid"+u.level;if(o.every(function(t){return e.util.schemaHasRules(t,e.RULES.all)})){var m=u.baseId;r+=" var "+d+" = errors; var "+c+" = false;  ";var v=e.compositeRule;e.compositeRule=u.compositeRule=!0;var g=o;if(g)for(var y,b=-1,E=g.length-1;b<E;)y=g[b+=1],u.schema=y,u.schemaPath=s+"["+b+"]",u.errSchemaPath=n+"/"+b,r+="  "+e.validate(u)+" ",u.baseId=m,r+=" "+c+" = "+c+" || "+f+"; if (!"+c+") { ",p+="}";e.compositeRule=u.compositeRule=v,r+=" "+p+" if (!"+c+") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } "),r=e.util.cleanUpCode(r)}else l&&(r+=" if (true) { ");return r}},{}],28:[function(e,t,r){"use strict";t.exports=function(e,t){var r=" ",a=e.level,i=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),n=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,h="data"+(i||""),c="valid"+a,d=e.opts.v5&&o&&o.$data;d&&(r+=" var schema"+a+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; "),d||(r+=" var schema"+a+" = validate.schema"+s+";"),r+="var "+c+" = equal("+h+", schema"+a+"); if (!"+c+") {   ";var u=u||[];u.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'constant' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to constant' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var p=r;return r=u.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }"}},{}],29:[function(e,t,r){"use strict";t.exports=function(e,t){var r,a,i=" ",o=e.level,s=e.dataLevel,n=e.schema[t],l=e.schemaPath+e.util.getProperty(t),h=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,d="data"+(s||""),u="valid"+o,p="errs__"+o,f=e.opts.v5&&n&&n.$data;f?(i+=" var schema"+o+" = "+e.util.getData(n.$data,s,e.dataPathArr)+"; ",a="schema"+o):a=n;var m,v,g,y,b,E=this,x="definition"+o,w=E.definition;if(f&&w.$data){b="keywordValidate"+o;var P=w.validateSchema;i+=" var "+x+" = RULES.custom['"+t+"'].definition; var "+b+" = "+x+".validate;"}else a="validate.schema"+l,b=(y=e.useCustomRule(E,n,e.schema,e)).code,m=w.compile,v=w.inline,g=w.macro;var _=b+".errors",S="i"+o,j="ruleErr"+o,C=w.async;if(C&&!e.async)throw new Error("async keyword in sync schema");if(v||g||(i+=_+" = null;"),i+="var "+p+" = errors;var "+u+";",P&&(i+=" "+u+" = "+x+".validateSchema("+a+"); if ("+u+") {"),v)w.statements?i+=" "+y.validate+" ":i+=" "+u+" = "+y.validate+"; ";else if(g){var N=e.util.copy(e);N.level++;var k="valid"+N.level;N.schema=y.validate,N.schemaPath="";var O=e.compositeRule;e.compositeRule=N.compositeRule=!0;var A=e.validate(N).replace(/validate\.schema/g,b);e.compositeRule=N.compositeRule=O,i+=" "+A}else{(I=I||[]).push(i),i="",i+="  "+b+".call( ",e.opts.passContext?i+="this":i+="self",m||!1===w.schema?i+=" , "+d+" ":i+=" , "+a+" , "+d+" , validate.schema"+e.schemaPath+" ",i+=" , (dataPath || '')",'""'!=e.errorPath&&(i+=" + "+e.errorPath);var T=s?"data"+(s-1||""):"parentData",D=s?e.dataPathArr[s]:"parentDataProperty",$=i+=" , "+T+" , "+D+" , rootData )  ";i=I.pop(),!1===w.errors?(i+=" "+u+" = ",C&&(i+=""+e.yieldAwait),i+=$+"; "):i+=C?" var "+(_="customErrors"+o)+" = null; try { "+u+" = "+e.yieldAwait+$+"; } catch (e) { "+u+" = false; if (e instanceof ValidationError) "+_+" = e.errors; else throw e; } ":" "+_+" = null; "+u+" = "+$+"; "}if(w.modifying&&(i+=" "+d+" = "+T+"["+D+"];"),P&&(i+=" }"),w.valid)c&&(i+=" if (true) { ");else{i+=" if ( ",void 0===w.valid?(i+=" !",i+=g?""+k:""+u):i+=" "+!w.valid+" ",i+=") { ",r=E.keyword;var I=I||[];I.push(i),i="",(I=I||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { keyword: '"+E.keyword+"' } ",!1!==e.opts.messages&&(i+=" , message: 'should pass \""+E.keyword+"\" keyword validation' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var R=i;i=I.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+R+"]); ":i+=" validate.errors = ["+R+"]; return false; ":i+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var L=i;i=I.pop(),v?w.errors?"full"!=w.errors&&(i+="  for (var "+S+"="+p+"; "+S+"<errors; "+S+"++) { var "+j+" = vErrors["+S+"]; if ("+j+".dataPath === undefined) "+j+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+j+".schemaPath === undefined) { "+j+'.schemaPath = "'+h+'"; } ',e.opts.verbose&&(i+=" "+j+".schema = "+a+"; "+j+".data = "+d+"; "),i+=" } "):!1===w.errors?i+=" "+L+" ":(i+=" if ("+p+" == errors) { "+L+" } else {  for (var "+S+"="+p+"; "+S+"<errors; "+S+"++) { var "+j+" = vErrors["+S+"]; if ("+j+".dataPath === undefined) "+j+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+j+".schemaPath === undefined) { "+j+'.schemaPath = "'+h+'"; } ',e.opts.verbose&&(i+=" "+j+".schema = "+a+"; "+j+".data = "+d+"; "),i+=" } } "):g?(i+="   var err =   ",!1!==e.createErrors?(i+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { keyword: '"+E.keyword+"' } ",!1!==e.opts.messages&&(i+=" , message: 'should pass \""+E.keyword+"\" keyword validation' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?i+=" throw new ValidationError(vErrors); ":i+=" validate.errors = vErrors; return false; ")):!1===w.errors?i+=" "+L+" ":(i+=" if (Array.isArray("+_+")) { if (vErrors === null) vErrors = "+_+"; else vErrors = vErrors.concat("+_+"); errors = vErrors.length;  for (var "+S+"="+p+"; "+S+"<errors; "+S+"++) { var "+j+" = vErrors["+S+"]; if ("+j+".dataPath === undefined) "+j+".dataPath = (dataPath || '') + "+e.errorPath+";  "+j+'.schemaPath = "'+h+'";  ',e.opts.verbose&&(i+=" "+j+".schema = "+a+"; "+j+".data = "+d+"; "),i+=" } } else { "+L+" } "),i+=" } ",c&&(i+=" else { ")}return i}},{}],30:[function(e,t,r){"use strict";t.exports=function(e,t){var r=" ",a=e.level,i=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),n=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,h="data"+(i||""),c="errs__"+a,d=e.util.copy(e),u="";d.level++;var p="valid"+d.level,f={},m={};for(b in o){var v=o[b],g=Array.isArray(v)?m:f;g[b]=v}r+="var "+c+" = errors;";var y=e.errorPath;r+="var missing"+a+";";for(var b in m){if(g=m[b],r+=" if ("+h+e.util.getProperty(b)+" !== undefined ",l){r+=" && ( ";var E=g;if(E)for(var x,w=-1,P=E.length-1;w<P;)x=E[w+=1],w&&(r+=" || "),r+=" ( "+h+(T=e.util.getProperty(x))+" === undefined && (missing"+a+" = "+e.util.toQuotedString(e.opts.jsonPointers?x:T)+") ) ";r+=")) {  ";var _="missing"+a,S="' + "+_+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(y,_,!0):y+" + "+_);var j=j||[];j.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { property: '"+e.util.escapeQuotes(b)+"', missingProperty: '"+S+"', depsCount: "+g.length+", deps: '"+e.util.escapeQuotes(1==g.length?g[0]:g.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",1==g.length?r+="property "+e.util.escapeQuotes(g[0]):r+="properties "+e.util.escapeQuotes(g.join(", ")),r+=" when property "+e.util.escapeQuotes(b)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var C=r;r=j.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+C+"]); ":r+=" validate.errors = ["+C+"]; return false; ":r+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var N=g;if(N)for(var k,O=-1,A=N.length-1;O<A;){k=N[O+=1];var T=e.util.getProperty(k),S=e.util.escapeQuotes(k);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(y,k,e.opts.jsonPointers)),r+=" if ("+h+T+" === undefined) {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { property: '"+e.util.escapeQuotes(b)+"', missingProperty: '"+S+"', depsCount: "+g.length+", deps: '"+e.util.escapeQuotes(1==g.length?g[0]:g.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",1==g.length?r+="property "+e.util.escapeQuotes(g[0]):r+="properties "+e.util.escapeQuotes(g.join(", ")),r+=" when property "+e.util.escapeQuotes(b)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",l&&(u+="}",r+=" else { ")}e.errorPath=y;var D=d.baseId;for(var b in f){v=f[b];e.util.schemaHasRules(v,e.RULES.all)&&(r+=" "+p+" = true; if ("+h+e.util.getProperty(b)+" !== undefined) { ",d.schema=v,d.schemaPath=s+e.util.getProperty(b),d.errSchemaPath=n+"/"+e.util.escapeFragment(b),r+="  "+e.validate(d)+" ",d.baseId=D,r+=" }  ",l&&(r+=" if ("+p+") { ",u+="}"))}return l&&(r+="   "+u+" if ("+c+" == errors) {"),r=e.util.cleanUpCode(r)}},{}],31:[function(e,t,r){"use strict";t.exports=function(e,t){var r=" ",a=e.level,i=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),n=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,h="data"+(i||""),c="valid"+a,d=e.opts.v5&&o&&o.$data;d&&(r+=" var schema"+a+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; ");var u="i"+a,p="schema"+a;d||(r+=" var "+p+" = validate.schema"+s+";"),r+="var "+c+";",d&&(r+=" if (schema"+a+" === undefined) "+c+" = true; else if (!Array.isArray(schema"+a+")) "+c+" = false; else {"),r+=c+" = false;for (var "+u+"=0; "+u+"<"+p+".length; "+u+"++) if (equal("+h+", "+p+"["+u+"])) { "+c+" = true; break; }",d&&(r+="  }  "),r+=" if (!"+c+") {   ";var f=f||[];f.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { allowedValues: schema"+a+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var m=r;return r=f.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+m+"]); ":r+=" validate.errors = ["+m+"]; return false; ":r+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",l&&(r+=" else { "),r}},{}],32:[function(e,t,r){"use strict";t.exports=function(e,t){var r=" ",a=e.level,i=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),n=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,h="data"+(i||"");if(!1===e.opts.format)return l&&(r+=" if (true) { "),r;var c,d=e.opts.v5&&o&&o.$data;d?(r+=" var schema"+a+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; ",c="schema"+a):c=o;var u=e.opts.unknownFormats,p=Array.isArray(u);if(d)r+=" var "+(f="format"+a)+" = formats["+c+"]; var isObject"+a+" = typeof "+f+" == 'object' && !("+f+" instanceof RegExp) && "+f+".validate; if (isObject"+a+") { ",e.async&&(r+=" var async"+a+" = "+f+".async; "),r+=" "+f+" = "+f+".validate; } if (  ",d&&(r+=" ("+c+" !== undefined && typeof "+c+" != 'string') || "),r+=" (",(!0===u||p)&&(r+=" ("+c+" && !"+f+" ",p&&(r+=" && self._opts.unknownFormats.indexOf("+c+") == -1 "),r+=") || "),r+=" ("+f+" && !(typeof "+f+" == 'function' ? ",e.async?r+=" (async"+a+" ? "+e.yieldAwait+" "+f+"("+h+") : "+f+"("+h+")) ":r+=" "+f+"("+h+") ",r+=" : "+f+".test("+h+"))))) {";else{var f=e.formats[o];if(!f){if(!0===u||p&&-1==u.indexOf(o))throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"');return p||(console.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),"ignore"!==u&&console.warn("In the next major version it will throw exception. See option unknownFormats for more information")),l&&(r+=" if (true) { "),r}var m="object"==typeof f&&!(f instanceof RegExp)&&f.validate;if(m){var v=!0===f.async;f=f.validate}if(v){if(!e.async)throw new Error("async format in sync schema");g="formats"+e.util.getProperty(o)+".validate";r+=" if (!("+e.yieldAwait+" "+g+"("+h+"))) { "}else{r+=" if (! ";var g="formats"+e.util.getProperty(o);m&&(g+=".validate"),r+="function"==typeof f?" "+g+"("+h+") ":" "+g+".test("+h+") ",r+=") { "}}var y=y||[];y.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { format:  ",r+=d?""+c:""+e.util.toQuotedString(o),r+="  } ",!1!==e.opts.messages&&(r+=" , message: 'should match format \"",r+=d?"' + "+c+" + '":""+e.util.escapeQuotes(o),r+="\"' "),e.opts.verbose&&(r+=" , schema:  ",r+=d?"validate.schema"+s:""+e.util.toQuotedString(o),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var b=r;return r=y.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",l&&(r+=" else { "),r}},{}],33:[function(e,t,r){"use strict";t.exports=function(e,t){var r=" ",a=e.level,i=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),n=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,h="data"+(i||""),c="valid"+a,d="errs__"+a,u=e.util.copy(e),p="";u.level++;var f="valid"+u.level,m="i"+a,v=u.dataLevel=e.dataLevel+1,g="data"+v,y=e.baseId;if(r+="var "+d+" = errors;var "+c+";",Array.isArray(o)){var b=e.schema.additionalItems;if(!1===b){r+=" "+c+" = "+h+".length <= "+o.length+"; ";var E=n;n=e.errSchemaPath+"/additionalItems",r+="  if (!"+c+") {   ";var x=x||[];x.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { limit: "+o.length+" } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var w=r;r=x.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+w+"]); ":r+=" validate.errors = ["+w+"]; return false; ":r+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",n=E,l&&(p+="}",r+=" else { ")}var P=o;if(P)for(var _,S=-1,j=P.length-1;S<j;)if(_=P[S+=1],e.util.schemaHasRules(_,e.RULES.all)){r+=" "+f+" = true; if ("+h+".length > "+S+") { ";C=h+"["+S+"]";u.schema=_,u.schemaPath=s+"["+S+"]",u.errSchemaPath=n+"/"+S,u.errorPath=e.util.getPathExpr(e.errorPath,S,e.opts.jsonPointers,!0),u.dataPathArr[v]=S;N=e.validate(u);u.baseId=y,e.util.varOccurences(N,g)<2?r+=" "+e.util.varReplace(N,g,C)+" ":r+=" var "+g+" = "+C+"; "+N+" ",r+=" }  ",l&&(r+=" if ("+f+") { ",p+="}")}if("object"==typeof b&&e.util.schemaHasRules(b,e.RULES.all)){u.schema=b,u.schemaPath=e.schemaPath+".additionalItems",u.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+f+" = true; if ("+h+".length > "+o.length+") {  for (var "+m+" = "+o.length+"; "+m+" < "+h+".length; "+m+"++) { ",u.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);C=h+"["+m+"]";u.dataPathArr[v]=m;N=e.validate(u);u.baseId=y,e.util.varOccurences(N,g)<2?r+=" "+e.util.varReplace(N,g,C)+" ":r+=" var "+g+" = "+C+"; "+N+" ",l&&(r+=" if (!"+f+") break; "),r+=" } }  ",l&&(r+=" if ("+f+") { ",p+="}")}}else if(e.util.schemaHasRules(o,e.RULES.all)){u.schema=o,u.schemaPath=s,u.errSchemaPath=n,r+="  for (var "+m+" = 0; "+m+" < "+h+".length; "+m+"++) { ",u.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var C=h+"["+m+"]";u.dataPathArr[v]=m;var N=e.validate(u);u.baseId=y,e.util.varOccurences(N,g)<2?r+=" "+e.util.varReplace(N,g,C)+" ":r+=" var "+g+" = "+C+"; "+N+" ",l&&(r+=" if (!"+f+") break; "),r+=" }  ",l&&(r+=" if ("+f+") { ",p+="}")}return l&&(r+=" "+p+" if ("+d+" == errors) {"),r=e.util.cleanUpCode(r)}},{}],34:[function(e,t,r){"use strict";t.exports=function(e,t){var r,a=" ",i=e.level,o=e.dataLevel,s=e.schema[t],n=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,c="data"+(o||""),d=e.opts.v5&&s&&s.$data;d?(a+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+i):r=s,a+="var division"+i+";if (",d&&(a+=" "+r+" !== undefined && ( typeof "+r+" != 'number' || "),a+=" (division"+i+" = "+c+" / "+r+", ",e.opts.multipleOfPrecision?a+=" Math.abs(Math.round(division"+i+") - division"+i+") > 1e-"+e.opts.multipleOfPrecision+" ":a+=" division"+i+" !== parseInt(division"+i+") ",a+=" ) ",d&&(a+="  )  "),a+=" ) {   ";var u=u||[];u.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { multipleOf: "+r+" } ",!1!==e.opts.messages&&(a+=" , message: 'should be multiple of ",a+=d?"' + "+r:s+"'"),e.opts.verbose&&(a+=" , schema:  ",a+=d?"validate.schema"+n:""+s,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var p=a;return a=u.pop(),!e.compositeRule&&h?e.async?a+=" throw new ValidationError(["+p+"]); ":a+=" validate.errors = ["+p+"]; return false; ":a+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",h&&(a+=" else { "),a}},{}],35:[function(e,t,r){"use strict";t.exports=function(e,t){var r=" ",a=e.level,i=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),n=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,h="data"+(i||""),c="errs__"+a,d=e.util.copy(e);d.level++;var u="valid"+d.level;if(e.util.schemaHasRules(o,e.RULES.all)){d.schema=o,d.schemaPath=s,d.errSchemaPath=n,r+=" var "+c+" = errors;  ";var p=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.createErrors=!1;var f;d.opts.allErrors&&(f=d.opts.allErrors,d.opts.allErrors=!1),r+=" "+e.validate(d)+" ",d.createErrors=!0,f&&(d.opts.allErrors=f),e.compositeRule=d.compositeRule=p,r+=" if ("+u+") {   ";var m=m||[];m.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var v=r;r=m.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+c+"; if (vErrors !== null) { if ("+c+") vErrors.length = "+c+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(r+=" if (false) { ");return r}},{}],36:[function(e,t,r){"use strict";t.exports=function(e,t){var r=" ",a=e.level,i=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),n=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,h="data"+(i||""),c="valid"+a,d="errs__"+a,u=e.util.copy(e),p="";u.level++;var f="valid"+u.level;r+="var "+d+" = errors;var prevValid"+a+" = false;var "+c+" = false;";var m=u.baseId,v=e.compositeRule;e.compositeRule=u.compositeRule=!0;var g=o;if(g)for(var y,b=-1,E=g.length-1;b<E;)y=g[b+=1],e.util.schemaHasRules(y,e.RULES.all)?(u.schema=y,u.schemaPath=s+"["+b+"]",u.errSchemaPath=n+"/"+b,r+="  "+e.validate(u)+" ",u.baseId=m):r+=" var "+f+" = true; ",b&&(r+=" if ("+f+" && prevValid"+a+") "+c+" = false; else { ",p+="}"),r+=" if ("+f+") "+c+" = prevValid"+a+" = true;";e.compositeRule=u.compositeRule=v,r+=p+"if (!"+c+") {   ";var x=x||[];x.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var w=r;return r=x.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+w+"]); ":r+=" validate.errors = ["+w+"]; return false; ":r+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r}},{}],37:[function(e,t,r){"use strict";t.exports=function(e,t){var r,a=" ",i=e.level,o=e.dataLevel,s=e.schema[t],n=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,c="data"+(o||""),d=e.opts.v5&&s&&s.$data;d?(a+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+i):r=s;var u=d?"(new RegExp("+r+"))":e.usePattern(s);a+="if ( ",d&&(a+=" ("+r+" !== undefined && typeof "+r+" != 'string') || "),a+=" !"+u+".test("+c+") ) {   ";var p=p||[];p.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { pattern:  ",a+=d?""+r:""+e.util.toQuotedString(s),a+="  } ",!1!==e.opts.messages&&(a+=" , message: 'should match pattern \"",a+=d?"' + "+r+" + '":""+e.util.escapeQuotes(s),a+="\"' "),e.opts.verbose&&(a+=" , schema:  ",a+=d?"validate.schema"+n:""+e.util.toQuotedString(s),a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var f=a;return a=p.pop(),!e.compositeRule&&h?e.async?a+=" throw new ValidationError(["+f+"]); ":a+=" validate.errors = ["+f+"]; return false; ":a+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",h&&(a+=" else { "),a}},{}],38:[function(e,t,r){"use strict";t.exports=function(e,t){var r=" ",a=e.level,i=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),n=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,h="data"+(i||""),c="valid"+a,d="key"+a,u="patternMatched"+a,p="",f=e.opts.ownProperties;r+="var "+c+" = true;";var m=o;if(m)for(var v,g=-1,y=m.length-1;g<y;){v=m[g+=1],r+=" var "+u+" = false; for (var "+d+" in "+h+") {  ",f&&(r+=" if (!Object.prototype.hasOwnProperty.call("+h+", "+d+")) continue; "),r+=" "+u+" = "+e.usePattern(v)+".test("+d+"); if ("+u+") break; } ";var b=e.util.escapeQuotes(v);r+=" if (!"+u+") { "+c+" = false;  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'patternRequired' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { missingPattern: '"+b+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have property matching pattern \\'"+b+"\\'' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; }   ",l&&(p+="}",r+=" else { ")}return r+=""+p}},{}],39:[function(e,t,r){"use strict";t.exports=function(e,t){var r=" ",a=e.level,i=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),n=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,h="data"+(i||""),c="valid"+a,d="errs__"+a,u=e.util.copy(e),p="";u.level++;var f="valid"+u.level,m="key"+a,v=u.dataLevel=e.dataLevel+1,g="data"+v,y=Object.keys(o||{}),b=e.schema.patternProperties||{},E=Object.keys(b),x=e.schema.additionalProperties,w=y.length||E.length,P=!1===x,_="object"==typeof x&&Object.keys(x).length,S=e.opts.removeAdditional,j=P||_||S,C=e.opts.ownProperties,N=e.baseId,k=e.schema.required;if(k&&(!e.opts.v5||!k.$data)&&k.length<e.opts.loopRequired)var O=e.util.toHash(k);if(e.opts.v5)var A=e.schema.patternGroups||{},T=Object.keys(A);if(r+="var "+d+" = errors;var "+f+" = true;",j){if(r+=" for (var "+m+" in "+h+") {  ",C&&(r+=" if (!Object.prototype.hasOwnProperty.call("+h+", "+m+")) continue; "),w){if(r+=" var isAdditional"+a+" = !(false ",y.length)if(y.length>5)r+=" || validate.schema"+s+"["+m+"] ";else{var D=y;if(D)for(var $=-1,I=D.length-1;$<I;)z=D[$+=1],r+=" || "+m+" == "+e.util.toQuotedString(z)+" "}if(E.length){var R=E;if(R)for(var L=-1,F=R.length-1;L<F;)re=R[L+=1],r+=" || "+e.usePattern(re)+".test("+m+") "}if(e.opts.v5&&T&&T.length){var M=T;if(M)for(var L=-1,V=M.length-1;L<V;)se=M[L+=1],r+=" || "+e.usePattern(se)+".test("+m+") "}r+=" ); if (isAdditional"+a+") { "}if("all"==S)r+=" delete "+h+"["+m+"]; ";else{var B=e.errorPath,U="' + "+m+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers)),P)if(S)r+=" delete "+h+"["+m+"]; ";else{r+=" "+f+" = false; ";W=n;n=e.errSchemaPath+"/additionalProperties",(ge=ge||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { additionalProperty: '"+U+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have additional properties' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";ye=r;r=ge.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+ye+"]); ":r+=" validate.errors = ["+ye+"]; return false; ":r+=" var err = "+ye+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n=W,l&&(r+=" break; ")}else if(_)if("failing"==S){r+=" var "+d+" = errors;  ";var q=e.compositeRule;e.compositeRule=u.compositeRule=!0,u.schema=x,u.schemaPath=e.schemaPath+".additionalProperties",u.errSchemaPath=e.errSchemaPath+"/additionalProperties",u.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);Y=h+"["+m+"]";u.dataPathArr[v]=m;de=e.validate(u);u.baseId=N,e.util.varOccurences(de,g)<2?r+=" "+e.util.varReplace(de,g,Y)+" ":r+=" var "+g+" = "+Y+"; "+de+" ",r+=" if (!"+f+") { errors = "+d+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+h+"["+m+"]; }  ",e.compositeRule=u.compositeRule=q}else{u.schema=x,u.schemaPath=e.schemaPath+".additionalProperties",u.errSchemaPath=e.errSchemaPath+"/additionalProperties",u.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);Y=h+"["+m+"]";u.dataPathArr[v]=m;de=e.validate(u);u.baseId=N,e.util.varOccurences(de,g)<2?r+=" "+e.util.varReplace(de,g,Y)+" ":r+=" var "+g+" = "+Y+"; "+de+" ",l&&(r+=" if (!"+f+") break; ")}e.errorPath=B}w&&(r+=" } "),r+=" }  ",l&&(r+=" if ("+f+") { ",p+="}")}var H=e.opts.useDefaults&&!e.compositeRule;if(y.length){var Q=y;if(Q)for(var z,J=-1,K=Q.length-1;J<K;){ce=o[z=Q[J+=1]];if(e.util.schemaHasRules(ce,e.RULES.all)){var G=e.util.getProperty(z),Y=h+G,X=H&&void 0!==ce.default;u.schema=ce,u.schemaPath=s+G,u.errSchemaPath=n+"/"+e.util.escapeFragment(z),u.errorPath=e.util.getPath(e.errorPath,z,e.opts.jsonPointers),u.dataPathArr[v]=e.util.toQuotedString(z);de=e.validate(u);if(u.baseId=N,e.util.varOccurences(de,g)<2){de=e.util.varReplace(de,g,Y);Z=Y}else{var Z=g;r+=" var "+g+" = "+Y+"; "}if(X)r+=" "+de+" ";else{if(O&&O[z]){r+=" if ("+Z+" === undefined) { "+f+" = false; ";var B=e.errorPath,W=n,ee=e.util.escapeQuotes(z);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(B,z,e.opts.jsonPointers)),n=e.errSchemaPath+"/required",(ge=ge||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { missingProperty: '"+ee+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+ee+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";ye=r;r=ge.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+ye+"]); ":r+=" validate.errors = ["+ye+"]; return false; ":r+=" var err = "+ye+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n=W,e.errorPath=B,r+=" } else { "}else r+=l?" if ("+Z+" === undefined) { "+f+" = true; } else { ":" if ("+Z+" !== undefined) { ";r+=" "+de+" } "}}l&&(r+=" if ("+f+") { ",p+="}")}}var te=E;if(te)for(var re,ae=-1,ie=te.length-1;ae<ie;){ce=b[re=te[ae+=1]];if(e.util.schemaHasRules(ce,e.RULES.all)){u.schema=ce,u.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(re),u.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(re),r+=" for (var "+m+" in "+h+") {  ",C&&(r+=" if (!Object.prototype.hasOwnProperty.call("+h+", "+m+")) continue; "),r+=" if ("+e.usePattern(re)+".test("+m+")) { ",u.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);Y=h+"["+m+"]";u.dataPathArr[v]=m;de=e.validate(u);u.baseId=N,e.util.varOccurences(de,g)<2?r+=" "+e.util.varReplace(de,g,Y)+" ":r+=" var "+g+" = "+Y+"; "+de+" ",l&&(r+=" if (!"+f+") break; "),r+=" } ",l&&(r+=" else "+f+" = true; "),r+=" }  ",l&&(r+=" if ("+f+") { ",p+="}")}}if(e.opts.v5){var oe=T;if(oe)for(var se,ne=-1,le=oe.length-1;ne<le;){var he=A[se=oe[ne+=1]],ce=he.schema;if(e.util.schemaHasRules(ce,e.RULES.all)){u.schema=ce,u.schemaPath=e.schemaPath+".patternGroups"+e.util.getProperty(se)+".schema",u.errSchemaPath=e.errSchemaPath+"/patternGroups/"+e.util.escapeFragment(se)+"/schema",r+=" var pgPropCount"+a+" = 0; for (var "+m+" in "+h+") {  ",C&&(r+=" if (!Object.prototype.hasOwnProperty.call("+h+", "+m+")) continue; "),r+=" if ("+e.usePattern(se)+".test("+m+")) { pgPropCount"+a+"++; ",u.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);Y=h+"["+m+"]";u.dataPathArr[v]=m;var de=e.validate(u);u.baseId=N,e.util.varOccurences(de,g)<2?r+=" "+e.util.varReplace(de,g,Y)+" ":r+=" var "+g+" = "+Y+"; "+de+" ",l&&(r+=" if (!"+f+") break; "),r+=" } ",l&&(r+=" else "+f+" = true; "),r+=" }  ",l&&(r+=" if ("+f+") { ",p+="}");var ue=he.minimum,pe=he.maximum;if(void 0!==ue||void 0!==pe){r+=" var "+c+" = true; ";W=n;if(void 0!==ue){var fe=ue,me="minimum",ve="less";r+=" "+c+" = pgPropCount"+a+" >= "+ue+"; ",n=e.errSchemaPath+"/patternGroups/minimum",r+="  if (!"+c+") {   ",(ge=ge||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'patternGroups' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { reason: '"+me+"', limit: "+fe+", pattern: '"+e.util.escapeQuotes(se)+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have "+ve+" than "+fe+' properties matching pattern "'+e.util.escapeQuotes(se)+"\"' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";ye=r;r=ge.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+ye+"]); ":r+=" validate.errors = ["+ye+"]; return false; ":r+=" var err = "+ye+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",void 0!==pe&&(r+=" else ")}if(void 0!==pe){var fe=pe,me="maximum",ve="more";r+=" "+c+" = pgPropCount"+a+" <= "+pe+"; ",n=e.errSchemaPath+"/patternGroups/maximum",r+="  if (!"+c+") {   ";var ge=ge||[];ge.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'patternGroups' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { reason: '"+me+"', limit: "+fe+", pattern: '"+e.util.escapeQuotes(se)+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have "+ve+" than "+fe+' properties matching pattern "'+e.util.escapeQuotes(se)+"\"' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var ye=r;r=ge.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+ye+"]); ":r+=" validate.errors = ["+ye+"]; return false; ":r+=" var err = "+ye+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "}n=W,l&&(r+=" if ("+c+") { ",p+="}")}}}}return l&&(r+=" "+p+" if ("+d+" == errors) {"),r=e.util.cleanUpCode(r)}},{}],40:[function(e,t,r){"use strict";t.exports=function(e,t){var r,a,i=" ",o=e.level,s=e.dataLevel,n=e.schema[t],l=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,c="data"+(s||""),d="valid"+o;if("#"==n||"#/"==n)e.isRoot?(r=e.async,a="validate"):(r=!0===e.root.schema.$async,a="root.refVal[0]");else{var u=e.resolveRef(e.baseId,n,e.isRoot);if(void 0===u){var p="can't resolve reference "+n+" from id "+e.baseId;if("fail"==e.opts.missingRefs){console.log(p),(y=y||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { ref: '"+e.util.escapeQuotes(n)+"' } ",!1!==e.opts.messages&&(i+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(n)+"' "),e.opts.verbose&&(i+=" , schema: "+e.util.toQuotedString(n)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ";var f=i;i=y.pop(),!e.compositeRule&&h?e.async?i+=" throw new ValidationError(["+f+"]); ":i+=" validate.errors = ["+f+"]; return false; ":i+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",h&&(i+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs){var m=new Error(p);throw m.missingRef=e.resolve.url(e.baseId,n),m.missingSchema=e.resolve.normalizeId(e.resolve.fullPath(m.missingRef)),m}console.log(p),h&&(i+=" if (true) { ")}}else if(u.inline){var v=e.util.copy(e);v.level++;var g="valid"+v.level;v.schema=u.schema,v.schemaPath="",v.errSchemaPath=n,i+=" "+e.validate(v).replace(/validate\.schema/g,u.code)+" ",h&&(i+=" if ("+g+") { ")}else r=!0===u.$async,a=u.code}if(a){var y=y||[];y.push(i),i="",e.opts.passContext?i+=" "+a+".call(this, ":i+=" "+a+"( ",i+=" "+c+", (dataPath || '')",'""'!=e.errorPath&&(i+=" + "+e.errorPath);var b=i+=" , "+(s?"data"+(s-1||""):"parentData")+" , "+(s?e.dataPathArr[s]:"parentDataProperty")+", rootData)  ";if(i=y.pop(),r){if(!e.async)throw new Error("async schema referenced by sync schema");i+=" try { ",h&&(i+="var "+d+" ="),i+=" "+e.yieldAwait+" "+b+"; } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; } ",h&&(i+=" if ("+d+") { ")}else i+=" if (!"+b+") { if (vErrors === null) vErrors = "+a+".errors; else vErrors = vErrors.concat("+a+".errors); errors = vErrors.length; } ",h&&(i+=" else { ")}return i}},{}],41:[function(e,t,r){"use strict";t.exports=function(e,t){var r=" ",a=e.level,i=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),n=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,h="data"+(i||""),c="valid"+a,d=e.opts.v5&&o&&o.$data;d&&(r+=" var schema"+a+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; ");var u="schema"+a;if(!d)if(o.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var p=[],f=o;if(f)for(var m,v=-1,g=f.length-1;v<g;){m=f[v+=1];var y=e.schema.properties[m];y&&e.util.schemaHasRules(y,e.RULES.all)||(p[p.length]=m)}}else p=o;if(d||p.length){var b=e.errorPath,E=d||p.length>=e.opts.loopRequired;if(l)if(r+=" var missing"+a+"; ",E){d||(r+=" var "+u+" = validate.schema"+s+"; ");N="' + "+(C="schema"+a+"["+(P="i"+a)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(b,C,e.opts.jsonPointers)),r+=" var "+c+" = true; ",d&&(r+=" if (schema"+a+" === undefined) "+c+" = true; else if (!Array.isArray(schema"+a+")) "+c+" = false; else {"),r+=" for (var "+P+" = 0; "+P+" < "+u+".length; "+P+"++) { "+c+" = "+h+"["+u+"["+P+"]] !== undefined; if (!"+c+") break; } ",d&&(r+="  }  "),r+="  if (!"+c+") {   ",(S=S||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { missingProperty: '"+N+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+N+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";j=r;r=S.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+j+"]); ":r+=" validate.errors = ["+j+"]; return false; ":r+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var x=p;if(x)for(var w,P=-1,_=x.length-1;P<_;)w=x[P+=1],P&&(r+=" || "),r+=" ( "+h+(D=e.util.getProperty(w))+" === undefined && (missing"+a+" = "+e.util.toQuotedString(e.opts.jsonPointers?w:D)+") ) ";r+=") {  ";N="' + "+(C="missing"+a)+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(b,C,!0):b+" + "+C);var S=S||[];S.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { missingProperty: '"+N+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+N+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var j=r;r=S.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+j+"]); ":r+=" validate.errors = ["+j+"]; return false; ":r+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(E){d||(r+=" var "+u+" = validate.schema"+s+"; ");var C="schema"+a+"["+(P="i"+a)+"]",N="' + "+C+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(b,C,e.opts.jsonPointers)),d&&(r+=" if ("+u+" && !Array.isArray("+u+")) {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { missingProperty: '"+N+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+N+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+u+" !== undefined) { "),r+=" for (var "+P+" = 0; "+P+" < "+u+".length; "+P+"++) { if ("+h+"["+u+"["+P+"]] === undefined) {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { missingProperty: '"+N+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+N+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",d&&(r+="  }  ")}else{var k=p;if(k)for(var O,A=-1,T=k.length-1;A<T;){O=k[A+=1];var D=e.util.getProperty(O),N=e.util.escapeQuotes(O);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(b,O,e.opts.jsonPointers)),r+=" if ("+h+D+" === undefined) {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { missingProperty: '"+N+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+N+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=b}else l&&(r+=" if (true) {");return r}},{}],42:[function(e,t,r){"use strict";t.exports=function(e,t){var r=" ",a=e.level,i=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),n=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,h="data"+(i||""),c="valid"+a,d="errs__"+a,u=e.util.copy(e),p="";u.level++;var f,m="valid"+u.level,v="ifPassed"+e.level,g=u.baseId;r+="var "+v+";";var y=o;if(y)for(var b,E=-1,x=y.length-1;E<x;){if(b=y[E+=1],E&&!f&&(r+=" if (!"+v+") { ",p+="}"),b.if&&e.util.schemaHasRules(b.if,e.RULES.all)){r+=" var "+d+" = errors;   ";var w=e.compositeRule;if(e.compositeRule=u.compositeRule=!0,u.createErrors=!1,u.schema=b.if,u.schemaPath=s+"["+E+"].if",u.errSchemaPath=n+"/"+E+"/if",r+="  "+e.validate(u)+" ",u.baseId=g,u.createErrors=!0,e.compositeRule=u.compositeRule=w,r+=" "+v+" = "+m+"; if ("+v+") {  ","boolean"==typeof b.then){if(!1===b.then){(P=P||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'switch' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { caseIndex: "+E+" } ",!1!==e.opts.messages&&(r+=" , message: 'should pass \"switch\" keyword validation' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";_=r;r=P.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+_+"]); ":r+=" validate.errors = ["+_+"]; return false; ":r+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}r+=" var "+m+" = "+b.then+"; "}else u.schema=b.then,u.schemaPath=s+"["+E+"].then",u.errSchemaPath=n+"/"+E+"/then",r+="  "+e.validate(u)+" ",u.baseId=g;r+="  } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } } "}else if(r+=" "+v+" = true;  ","boolean"==typeof b.then){if(!1===b.then){var P=P||[];P.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'switch' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(n)+" , params: { caseIndex: "+E+" } ",!1!==e.opts.messages&&(r+=" , message: 'should pass \"switch\" keyword validation' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var _=r;r=P.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+_+"]); ":r+=" validate.errors = ["+_+"]; return false; ":r+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}r+=" var "+m+" = "+b.then+"; "}else u.schema=b.then,u.schemaPath=s+"["+E+"].then",u.errSchemaPath=n+"/"+E+"/then",r+="  "+e.validate(u)+" ",u.baseId=g;f=b.continue}return r+=p+"var "+c+" = "+m+"; ",r=e.util.cleanUpCode(r)}},{}],43:[function(e,t,r){"use strict";t.exports=function(e,t){var r,a=" ",i=e.level,o=e.dataLevel,s=e.schema[t],n=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,c="data"+(o||""),d="valid"+i,u=e.opts.v5&&s&&s.$data;if(u?(a+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+i):r=s,(s||u)&&!1!==e.opts.uniqueItems){u&&(a+=" var "+d+"; if ("+r+" === false || "+r+" === undefined) "+d+" = true; else if (typeof "+r+" != 'boolean') "+d+" = false; else { "),a+=" var "+d+" = true; if ("+c+".length > 1) { var i = "+c+".length, j; outer: for (;i--;) { for (j = i; j--;) { if (equal("+c+"[i], "+c+"[j])) { "+d+" = false; break outer; } } } } ",u&&(a+="  }  "),a+=" if (!"+d+") {   ";var p=p||[];p.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(a+=" , schema:  ",a+=u?"validate.schema"+n:""+s,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var f=a;a=p.pop(),!e.compositeRule&&h?e.async?a+=" throw new ValidationError(["+f+"]); ":a+=" validate.errors = ["+f+"]; return false; ":a+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",h&&(a+=" else { ")}else h&&(a+=" if (true) { ");return a}},{}],44:[function(e,t,r){"use strict";t.exports=function(e,t){function r(t){return void 0!==e.schema[t.keyword]||"properties"==t.keyword&&(!1===e.schema.additionalProperties||"object"==typeof e.schema.additionalProperties||e.schema.patternProperties&&Object.keys(e.schema.patternProperties).length||e.opts.v5&&e.schema.patternGroups&&Object.keys(e.schema.patternGroups).length)}var a="",i=!0===e.schema.$async;if(e.isTop){var o=e.isTop,s=e.level=0,n=e.dataLevel=0,l="data";if(e.rootId=e.resolve.fullPath(e.root.schema.id),e.baseId=e.baseId||e.rootId,i){e.async=!0;var h="es7"==e.opts.async;e.yieldAwait=h?"await":"yield"}delete e.isTop,e.dataPathArr=[void 0],a+=" var validate = ",i?h?a+=" (async function ":("co*"==e.opts.async&&(a+="co.wrap"),a+="(function* "):a+=" (function ",a+=" (data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; var vErrors = null; ",a+=" var errors = 0;     ",a+=" if (rootData === undefined) rootData = data;"}else{var s=e.level,l="data"+((n=e.dataLevel)||"");if(e.schema.id&&(e.baseId=e.resolve.url(e.baseId,e.schema.id)),i&&!e.async)throw new Error("async schema in sync schema");a+=" var errs_"+s+" = errors;"}var c="valid"+s,d=!e.opts.allErrors,u="",p="",f=e.schema.type,m=Array.isArray(f);if(f&&e.opts.coerceTypes){var v=e.util.coerceToTypes(e.opts.coerceTypes,f);if(v){var g=e.schemaPath+".type",y=e.errSchemaPath+"/type",b=m?"checkDataTypes":"checkDataType";a+=" if ("+e.util[b](f,l,!0)+") {  ";var E="dataType"+s,x="coerced"+s;a+=" var "+E+" = typeof "+l+"; ","array"==e.opts.coerceTypes&&(a+=" if ("+E+" == 'object' && Array.isArray("+l+")) "+E+" = 'array'; "),a+=" var "+x+" = undefined; ";var w="",P=v;if(P)for(var _,S=-1,j=P.length-1;S<j;)_=P[S+=1],S&&(a+=" if ("+x+" === undefined) { ",w+="}"),"array"==e.opts.coerceTypes&&"array"!=_&&(a+=" if ("+E+" == 'array' && "+l+".length == 1) { "+x+" = "+l+" = "+l+"[0]; "+E+" = typeof "+l+";  } "),"string"==_?a+=" if ("+E+" == 'number' || "+E+" == 'boolean') "+x+" = '' + "+l+"; else if ("+l+" === null) "+x+" = ''; ":"number"==_||"integer"==_?(a+=" if ("+E+" == 'boolean' || "+l+" === null || ("+E+" == 'string' && "+l+" && "+l+" == +"+l+" ","integer"==_&&(a+=" && !("+l+" % 1)"),a+=")) "+x+" = +"+l+"; "):"boolean"==_?a+=" if ("+l+" === 'false' || "+l+" === 0 || "+l+" === null) "+x+" = false; else if ("+l+" === 'true' || "+l+" === 1) "+x+" = true; ":"null"==_?a+=" if ("+l+" === '' || "+l+" === 0 || "+l+" === false) "+x+" = null; ":"array"==e.opts.coerceTypes&&"array"==_&&(a+=" if ("+E+" == 'string' || "+E+" == 'number' || "+E+" == 'boolean' || "+l+" == null) "+x+" = ["+l+"]; ");a+=" "+w+" if ("+x+" === undefined) {   ",(K=K||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { type: '",a+=m?""+f.join(","):""+f,a+="' } ",!1!==e.opts.messages&&(a+=" , message: 'should be ",a+=m?""+f.join(","):""+f,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),a+=" } "):a+=" {} ";G=a;a=K.pop(),!e.compositeRule&&d?e.async?a+=" throw new ValidationError(["+G+"]); ":a+=" validate.errors = ["+G+"]; return false; ":a+=" var err = "+G+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else {  ";var C=n?"data"+(n-1||""):"parentData",N=n?e.dataPathArr[n]:"parentDataProperty";a+=" "+l+" = "+x+"; ",n||(a+="if ("+C+" !== undefined)"),a+=" "+C+"["+N+"] = "+x+"; } } "}}var k;if(e.schema.$ref&&(k=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"))){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'"');"ignore"==e.opts.extendRefs?(k=!1,console.log('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"')):!0!==e.opts.extendRefs&&console.log('$ref: all keywords used in schema at path "'+e.errSchemaPath+'". It will change in the next major version, see issue #260. Use option { extendRefs: true } to keep current behaviour')}if(e.schema.$ref&&!k)a+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",d&&(a+=" } if (errors === ",a+=o?"0":"errs_"+s,a+=") { ",p+="}");else{var O=e.RULES;if(O)for(var A,T=-1,D=O.length-1;T<D;)if(A=O[T+=1],function(e){for(var t=0;t<e.rules.length;t++)if(r(e.rules[t]))return!0}(A)){if(A.type&&(a+=" if ("+e.util.checkDataType(A.type,l)+") { "),e.opts.useDefaults&&!e.compositeRule)if("object"==A.type&&e.schema.properties){var $=e.schema.properties,I=Object.keys($);if(I)for(var R,L=-1,F=I.length-1;L<F;)void 0!==(V=$[R=I[L+=1]]).default&&(a+="  if ("+(U=l+e.util.getProperty(R))+" === undefined) "+U+" = ","shared"==e.opts.useDefaults?a+=" "+e.useDefault(V.default)+" ":a+=" "+JSON.stringify(V.default)+" ",a+="; ")}else if("array"==A.type&&Array.isArray(e.schema.items)){var M=e.schema.items;if(M)for(var V,S=-1,B=M.length-1;S<B;)if(void 0!==(V=M[S+=1]).default){var U=l+"["+S+"]";a+="  if ("+U+" === undefined) "+U+" = ","shared"==e.opts.useDefaults?a+=" "+e.useDefault(V.default)+" ":a+=" "+JSON.stringify(V.default)+" ",a+="; "}}var q=A.rules;if(q)for(var H,Q=-1,z=q.length-1;Q<z;)r(H=q[Q+=1])&&(a+=" "+H.code(e,H.keyword)+" ",d&&(u+="}"));if(d&&(a+=" "+u+" ",u=""),A.type&&(a+=" } ",f&&f===A.type)){var J=!0;a+=" else { ";var g=e.schemaPath+".type",y=e.errSchemaPath+"/type";(K=K||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { type: '",a+=m?""+f.join(","):""+f,a+="' } ",!1!==e.opts.messages&&(a+=" , message: 'should be ",a+=m?""+f.join(","):""+f,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),a+=" } "):a+=" {} ";G=a;a=K.pop(),!e.compositeRule&&d?e.async?a+=" throw new ValidationError(["+G+"]); ":a+=" validate.errors = ["+G+"]; return false; ":a+=" var err = "+G+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } "}d&&(a+=" if (errors === ",a+=o?"0":"errs_"+s,a+=") { ",p+="}")}}if(f&&!J&&(!e.opts.coerceTypes||!v)){var g=e.schemaPath+".type",y=e.errSchemaPath+"/type",b=m?"checkDataTypes":"checkDataType";a+=" if ("+e.util[b](f,l,!0)+") {   ";var K=K||[];K.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { type: '",a+=m?""+f.join(","):""+f,a+="' } ",!1!==e.opts.messages&&(a+=" , message: 'should be ",a+=m?""+f.join(","):""+f,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),a+=" } "):a+=" {} ";var G=a;a=K.pop(),!e.compositeRule&&d?e.async?a+=" throw new ValidationError(["+G+"]); ":a+=" validate.errors = ["+G+"]; return false; ":a+=" var err = "+G+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }"}return d&&(a+=" "+p+" "),o?(i?(a+=" if (errors === 0) return true;           ",a+=" else throw new ValidationError(vErrors); "):(a+=" validate.errors = vErrors; ",a+=" return errors === 0;       "),a+=" }); return validate;"):a+=" var "+c+" = errors === errs_"+s+";",a=e.util.cleanUpCode(a),o&&d&&(a=e.util.cleanUpVarErrors(a,i)),a}},{}],45:[function(e,t,r){"use strict";var a=/^[a-z_$][a-z0-9_$\-]*$/i,i=e("./dotjs/custom");t.exports={add:function(e,t){function r(e,t,r){for(var a,o=0;o<s.length;o++){var n=s[o];if(n.type==t){a=n;break}}a||(a={type:t,rules:[]},s.push(a));var l={keyword:e,definition:r,custom:!0,code:i};a.rules.push(l),s.custom[e]=l}function o(e){if(!s.types[e])throw new Error("Unknown type "+e)}var s=this.RULES;if(s.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!a.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){if(t.macro&&void 0!==t.valid)throw new Error('"valid" option cannot be used with macro keywords');var n=t.type;if(Array.isArray(n)){var l,h=n.length;for(l=0;l<h;l++)o(n[l]);for(l=0;l<h;l++)r(e,n[l],t)}else n&&o(n),r(e,n,t);var c=!0===t.$data&&this._opts.v5;if(c&&!t.validate)throw new Error('$data support: "validate" function is not defined');var d=t.metaSchema;d&&(c&&(d={anyOf:[d,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/json-schema-v5.json#/definitions/$data"}]}),t.validateSchema=this.compile(d,!0))}s.keywords[e]=s.all[e]=!0},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var r=0;r<t.length;r++)for(var a=t[r].rules,i=0;i<a.length;i++)if(a[i].keyword==e){a.splice(i,1);break}}}},{"./dotjs/custom":29}],46:[function(e,t,r){t.exports={id:"http://json-schema.org/draft-04/schema#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{$ref:"#/definitions/positiveInteger"},minLength:{$ref:"#/definitions/positiveIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/positiveInteger"},minItems:{$ref:"#/definitions/positiveIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxProperties:{$ref:"#/definitions/positiveInteger"},minProperties:{$ref:"#/definitions/positiveIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}}},{}],47:[function(e,t,r){t.exports={id:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/json-schema-v5.json#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema (v5 proposals)",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0},$data:{type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{anyOf:[{type:"number",minimum:0,exclusiveMinimum:!0},{$ref:"#/definitions/$data"}]},maximum:{anyOf:[{type:"number"},{$ref:"#/definitions/$data"}]},exclusiveMaximum:{anyOf:[{type:"boolean",default:!1},{$ref:"#/definitions/$data"}]},minimum:{anyOf:[{type:"number"},{$ref:"#/definitions/$data"}]},exclusiveMinimum:{anyOf:[{type:"boolean",default:!1},{$ref:"#/definitions/$data"}]},maxLength:{anyOf:[{$ref:"#/definitions/positiveInteger"},{$ref:"#/definitions/$data"}]},minLength:{anyOf:[{$ref:"#/definitions/positiveIntegerDefault0"},{$ref:"#/definitions/$data"}]},pattern:{anyOf:[{type:"string",format:"regex"},{$ref:"#/definitions/$data"}]},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"},{$ref:"#/definitions/$data"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{anyOf:[{$ref:"#/definitions/positiveInteger"},{$ref:"#/definitions/$data"}]},minItems:{anyOf:[{$ref:"#/definitions/positiveIntegerDefault0"},{$ref:"#/definitions/$data"}]},uniqueItems:{anyOf:[{type:"boolean",default:!1},{$ref:"#/definitions/$data"}]},maxProperties:{anyOf:[{$ref:"#/definitions/positiveInteger"},{$ref:"#/definitions/$data"}]},minProperties:{anyOf:[{$ref:"#/definitions/positiveIntegerDefault0"},{$ref:"#/definitions/$data"}]},required:{anyOf:[{$ref:"#/definitions/stringArray"},{$ref:"#/definitions/$data"}]},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"},{$ref:"#/definitions/$data"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{anyOf:[{type:"array",minItems:1,uniqueItems:!0},{$ref:"#/definitions/$data"}]},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"},format:{anyOf:[{type:"string"},{$ref:"#/definitions/$data"}]},formatMaximum:{anyOf:[{type:"string"},{$ref:"#/definitions/$data"}]},formatMinimum:{anyOf:[{type:"string"},{$ref:"#/definitions/$data"}]},formatExclusiveMaximum:{anyOf:[{type:"boolean",default:!1},{$ref:"#/definitions/$data"}]},formatExclusiveMinimum:{anyOf:[{type:"boolean",default:!1},{$ref:"#/definitions/$data"}]},constant:{anyOf:[{},{$ref:"#/definitions/$data"}]},contains:{$ref:"#"},patternGroups:{type:"object",additionalProperties:{type:"object",required:["schema"],properties:{maximum:{anyOf:[{$ref:"#/definitions/positiveInteger"},{$ref:"#/definitions/$data"}]},minimum:{anyOf:[{$ref:"#/definitions/positiveIntegerDefault0"},{$ref:"#/definitions/$data"}]},schema:{$ref:"#"}},additionalProperties:!1},default:{}},switch:{type:"array",items:{required:["then"],properties:{if:{$ref:"#"},then:{anyOf:[{type:"boolean"},{$ref:"#"}]},continue:{type:"boolean"}},additionalProperties:!1,dependencies:{continue:["if"]}}}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"],formatMaximum:["format"],formatMinimum:["format"],formatExclusiveMaximum:["formatMaximum"],formatExclusiveMinimum:["formatMinimum"]},default:{}}},{}],48:[function(e,t,r){"use strict";function a(e){return{not:{items:{not:e}}}}var i="https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/json-schema-v5.json";t.exports={enable:function(t){function r(e,r,a){var i={inline:a||o[e],statements:!0,errors:"full"};r&&(i.type=r),t.addKeyword(e,i)}var o={switch:e("./dotjs/switch"),constant:e("./dotjs/constant"),_formatLimit:e("./dotjs/_formatLimit"),patternRequired:e("./dotjs/patternRequired")};if(!1!==t._opts.meta){var s=e("./refs/json-schema-v5.json");t.addMetaSchema(s,i)}r("constant"),t.addKeyword("contains",{type:"array",macro:a}),r("formatMaximum","string",o._formatLimit),r("formatMinimum","string",o._formatLimit),t.addKeyword("formatExclusiveMaximum"),t.addKeyword("formatExclusiveMinimum"),t.addKeyword("patternGroups"),r("patternRequired","object"),r("switch")},META_SCHEMA_ID:i}},{"./dotjs/_formatLimit":21,"./dotjs/constant":28,"./dotjs/patternRequired":38,"./dotjs/switch":42,"./refs/json-schema-v5.json":47}],49:[function(e,t,r){function a(e){var t=this,r=u.call(arguments,1);return new Promise(function(a,o){function s(t){var r;try{r=e.next(t)}catch(e){return o(e)}h(r)}function n(t){var r;try{r=e.throw(t)}catch(e){return o(e)}h(r)}function h(e){if(e.done)return a(e.value);var r=i.call(t,e.value);return r&&l(r)?r.then(s,n):n(new TypeError('You may only yield a function, promise, generator, array, or object, but the following object was passed: "'+String(e.value)+'"'))}if("function"==typeof e&&(e=e.apply(t,r)),!e||"function"!=typeof e.next)return a(e);s()})}function i(e){return e?l(e)?e:c(e)||h(e)?a.call(this,e):"function"==typeof e?o.call(this,e):Array.isArray(e)?s.call(this,e):d(e)?n.call(this,e):e:e}function o(e){var t=this;return new Promise(function(r,a){e.call(t,function(e,t){if(e)return a(e);arguments.length>2&&(t=u.call(arguments,1)),r(t)})})}function s(e){return Promise.all(e.map(i,this))}function n(e){for(var t=new e.constructor,r=Object.keys(e),a=[],o=0;o<r.length;o++){var s=r[o],n=i.call(this,e[s]);n&&l(n)?function(e,r){t[r]=void 0,a.push(e.then(function(e){t[r]=e}))}(n,s):t[s]=e[s]}return Promise.all(a).then(function(){return t})}function l(e){return"function"==typeof e.then}function h(e){return"function"==typeof e.next&&"function"==typeof e.throw}function c(e){var t=e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName||h(t.prototype))}function d(e){return Object==e.constructor}var u=Array.prototype.slice;t.exports=a.default=a.co=a,a.wrap=function(e){function t(){return a.call(this,e.apply(this,arguments))}return t.__generatorFunction__=e,t}},{}],50:[function(e,t,r){t.exports=function e(t,r){"use strict";var a,i,o=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,s=/(^[ ]*|[ ]*$)/g,n=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,l=/^0x[0-9a-f]+$/i,h=/^0/,c=function(t){return e.insensitive&&(""+t).toLowerCase()||""+t},d=c(t).replace(s,"")||"",u=c(r).replace(s,"")||"",p=d.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),f=u.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(d.match(l),16)||1!==p.length&&d.match(n)&&Date.parse(d),v=parseInt(u.match(l),16)||m&&u.match(n)&&Date.parse(u)||null;if(v){if(m<v)return-1;if(m>v)return 1}for(var g=0,y=Math.max(p.length,f.length);g<y;g++){if(a=!(p[g]||"").match(h)&&parseFloat(p[g])||p[g]||0,i=!(f[g]||"").match(h)&&parseFloat(f[g])||f[g]||0,isNaN(a)!==isNaN(i))return isNaN(a)?1:-1;if(typeof a!=typeof i&&(a+="",i+=""),a<i)return-1;if(a>i)return 1}return 0}},{}],51:[function(e,t,r){var a="undefined"!=typeof JSON?JSON:e("jsonify");t.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r=t.space||"";"number"==typeof r&&(r=Array(r+1).join(" "));var s="boolean"==typeof t.cycles&&t.cycles,n=t.replacer||function(e,t){return t},l=t.cmp&&function(e){return function(t){return function(r,a){var i={key:r,value:t[r]},o={key:a,value:t[a]};return e(i,o)}}}(t.cmp),h=[];return function e(t,c,d,u){var p=r?"\n"+new Array(u+1).join(r):"",f=r?": ":":";if(d&&d.toJSON&&"function"==typeof d.toJSON&&(d=d.toJSON()),void 0!==(d=n.call(t,c,d))){if("object"!=typeof d||null===d)return a.stringify(d);if(i(d)){for(var m=[],v=0;v<d.length;v++){var g=e(d,v,d[v],u+1)||a.stringify(null);m.push(p+r+g)}return"["+m.join(",")+p+"]"}if(-1!==h.indexOf(d)){if(s)return a.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}h.push(d);for(var y=o(d).sort(l&&l(d)),m=[],v=0;v<y.length;v++){var b=e(d,c=y[v],d[c],u+1);if(b){var E=a.stringify(c)+f+b;m.push(p+r+E)}}return h.splice(h.indexOf(d),1),"{"+m.join(",")+p+"}"}}({"":e},"",e,0)};var i=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},o=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},r=[];for(var a in e)t.call(e,a)&&r.push(a);return r}},{jsonify:52}],52:[function(e,t,r){r.parse=e("./lib/parse"),r.stringify=e("./lib/stringify")},{"./lib/parse":53,"./lib/stringify":54}],53:[function(e,t,r){var a,i,o,s,n={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},l=function(e){throw{name:"SyntaxError",message:e,at:a,text:o}},h=function(e){return e&&e!==i&&l("Expected '"+e+"' instead of '"+i+"'"),i=o.charAt(a),a+=1,i},c=function(){var e,t="";for("-"===i&&(t="-",h("-"));i>="0"&&i<="9";)t+=i,h();if("."===i)for(t+=".";h()&&i>="0"&&i<="9";)t+=i;if("e"===i||"E"===i)for(t+=i,h(),"-"!==i&&"+"!==i||(t+=i,h());i>="0"&&i<="9";)t+=i,h();if(e=+t,isFinite(e))return e;l("Bad number")},d=function(){var e,t,r,a="";if('"'===i)for(;h();){if('"'===i)return h(),a;if("\\"===i)if(h(),"u"===i){for(r=0,t=0;t<4&&(e=parseInt(h(),16),isFinite(e));t+=1)r=16*r+e;a+=String.fromCharCode(r)}else{if("string"!=typeof n[i])break;a+=n[i]}else a+=i}l("Bad string")},u=function(){for(;i&&i<=" ";)h()},p=function(){switch(i){case"t":return h("t"),h("r"),h("u"),h("e"),!0;case"f":return h("f"),h("a"),h("l"),h("s"),h("e"),!1;case"n":return h("n"),h("u"),h("l"),h("l"),null}l("Unexpected '"+i+"'")},f=function(){var e=[];if("["===i){if(h("["),u(),"]"===i)return h("]"),e;for(;i;){if(e.push(s()),u(),"]"===i)return h("]"),e;h(","),u()}}l("Bad array")},m=function(){var e,t={};if("{"===i){if(h("{"),u(),"}"===i)return h("}"),t;for(;i;){if(e=d(),u(),h(":"),Object.hasOwnProperty.call(t,e)&&l('Duplicate key "'+e+'"'),t[e]=s(),u(),"}"===i)return h("}"),t;h(","),u()}}l("Bad object")};s=function(){switch(u(),i){case"{":return m();case"[":return f();case'"':return d();case"-":return c();default:return i>="0"&&i<="9"?c():p()}},t.exports=function(e,t){var r;return o=e,a=0,i=" ",r=s(),u(),i&&l("Syntax error"),"function"==typeof t?function e(r,a){var i,o,s=r[a];if(s&&"object"==typeof s)for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(void 0!==(o=e(s,i))?s[i]=o:delete s[i]);return t.call(r,a,s)}({"":r},""):r}},{}],54:[function(e,t,r){function a(e){return l.lastIndex=0,l.test(e)?'"'+e.replace(l,function(e){var t=h[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function i(e,t){var r,l,h,c,d,u=o,p=t[e];switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(e)),"function"==typeof n&&(p=n.call(t,e,p)),typeof p){case"string":return a(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(o+=s,d=[],"[object Array]"===Object.prototype.toString.apply(p)){for(c=p.length,r=0;r<c;r+=1)d[r]=i(r,p)||"null";return h=0===d.length?"[]":o?"[\n"+o+d.join(",\n"+o)+"\n"+u+"]":"["+d.join(",")+"]",o=u,h}if(n&&"object"==typeof n)for(c=n.length,r=0;r<c;r+=1)"string"==typeof(l=n[r])&&(h=i(l,p))&&d.push(a(l)+(o?": ":":")+h);else for(l in p)Object.prototype.hasOwnProperty.call(p,l)&&(h=i(l,p))&&d.push(a(l)+(o?": ":":")+h);return h=0===d.length?"{}":o?"{\n"+o+d.join(",\n"+o)+"\n"+u+"}":"{"+d.join(",")+"}",o=u,h}}var o,s,n,l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};t.exports=function(e,t,r){var a;if(o="",s="","number"==typeof r)for(a=0;a<r;a+=1)s+=" ";else"string"==typeof r&&(s=r);if(n=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return i("",{"":e})}},{}],55:[function(e,t,r){"use strict";function a(e,t){function r(e,t,i){i.forEach(function(i){if("separator"==i.type){var o=document.createElement("div");o.className="jsoneditor-separator",(n=document.createElement("li")).appendChild(o),e.appendChild(n)}else{var s={},n=document.createElement("li");e.appendChild(n);var l=document.createElement("button");if(l.type="button",l.className=i.className,s.button=l,i.title&&(l.title=i.title),i.click&&(l.onclick=function(e){e.preventDefault(),a.hide(),i.click()}),n.appendChild(l),i.submenu){var h=document.createElement("div");h.className="jsoneditor-icon",l.appendChild(h),l.appendChild(document.createTextNode(i.text));var c;if(i.click){l.className+=" jsoneditor-default";var d=document.createElement("button");d.type="button",s.buttonExpand=d,d.className="jsoneditor-expand",d.innerHTML='<div class="jsoneditor-expand"></div>',n.appendChild(d),i.submenuTitle&&(d.title=i.submenuTitle),c=d}else{var u=document.createElement("div");u.className="jsoneditor-expand",l.appendChild(u),c=l}c.onclick=function(e){e.preventDefault(),a._onExpandItem(s),c.focus()};var p=[];s.subItems=p;var f=document.createElement("ul");s.ul=f,f.className="jsoneditor-menu",f.style.height="0",n.appendChild(f),r(f,p,i.submenu)}else l.innerHTML='<div class="jsoneditor-icon"></div>'+i.text;t.push(s)}})}this.dom={};var a=this,i=this.dom;this.anchor=void 0,this.items=e,this.eventListeners={},this.selection=void 0,this.onClose=t?t.close:void 0;var o=document.createElement("div");o.className="jsoneditor-contextmenu-root",i.root=o;var s=document.createElement("div");s.className="jsoneditor-contextmenu",i.menu=s,o.appendChild(s);var n=document.createElement("ul");n.className="jsoneditor-menu",s.appendChild(n),i.list=n,i.items=[];var l=document.createElement("button");l.type="button",i.focusButton=l;var h=document.createElement("li");h.style.overflow="hidden",h.style.height="0",h.appendChild(l),n.appendChild(h),r(n,this.dom.items,e),this.maxHeight=0,e.forEach(function(t){var r=24*(e.length+(t.submenu?t.submenu.length:0));a.maxHeight=Math.max(a.maxHeight,r)})}var i=e("./util");a.prototype._getVisibleButtons=function(){var e=[],t=this;return this.dom.items.forEach(function(r){e.push(r.button),r.buttonExpand&&e.push(r.buttonExpand),r.subItems&&r==t.expandedItem&&r.subItems.forEach(function(t){e.push(t.button),t.buttonExpand&&e.push(t.buttonExpand)})}),e},a.visibleMenu=void 0,a.prototype.show=function(e,t){this.hide();var r=!0;if(t){var o=e.getBoundingClientRect(),s=t.getBoundingClientRect();o.bottom+this.maxHeight<s.bottom||o.top-this.maxHeight>s.top&&(r=!1)}if(r){var n=e.offsetHeight;this.dom.menu.style.left="0px",this.dom.menu.style.top=n+"px",this.dom.menu.style.bottom=""}else this.dom.menu.style.left="0px",this.dom.menu.style.top="",this.dom.menu.style.bottom="0px";var l=e.parentNode;l.insertBefore(this.dom.root,l.firstChild);var h=this,c=this.dom.list;this.eventListeners.mousedown=i.addEventListener(window,"mousedown",function(e){var t=e.target;t==c||h._isChildOf(t,c)||(h.hide(),e.stopPropagation(),e.preventDefault())}),this.eventListeners.keydown=i.addEventListener(window,"keydown",function(e){h._onKeyDown(e)}),this.selection=i.getSelection(),this.anchor=e,setTimeout(function(){h.dom.focusButton.focus()},0),a.visibleMenu&&a.visibleMenu.hide(),a.visibleMenu=this},a.prototype.hide=function(){this.dom.root.parentNode&&(this.dom.root.parentNode.removeChild(this.dom.root),this.onClose&&this.onClose());for(var e in this.eventListeners)if(this.eventListeners.hasOwnProperty(e)){var t=this.eventListeners[e];t&&i.removeEventListener(window,e,t),delete this.eventListeners[e]}a.visibleMenu==this&&(a.visibleMenu=void 0)},a.prototype._onExpandItem=function(e){var t=this,r=e==this.expandedItem,a=this.expandedItem;if(a&&(a.ul.style.height="0",a.ul.style.padding="",setTimeout(function(){t.expandedItem!=a&&(a.ul.style.display="",i.removeClassName(a.ul.parentNode,"jsoneditor-selected"))},300),this.expandedItem=void 0),!r){var o=e.ul;o.style.display="block";o.clientHeight;setTimeout(function(){t.expandedItem==e&&(o.style.height=24*o.childNodes.length+"px",o.style.padding="5px 10px")},0),i.addClassName(o.parentNode,"jsoneditor-selected"),this.expandedItem=e}},a.prototype._onKeyDown=function(e){var t,r,a,o,s=e.target,n=e.which,l=!1;27==n?(this.selection&&i.setSelection(this.selection),this.anchor&&this.anchor.focus(),this.hide(),l=!0):9==n?e.shiftKey?0==(r=(t=this._getVisibleButtons()).indexOf(s))&&(t[t.length-1].focus(),l=!0):(r=(t=this._getVisibleButtons()).indexOf(s))==t.length-1&&(t[0].focus(),l=!0):37==n?("jsoneditor-expand"==s.className&&(a=(t=this._getVisibleButtons())[(r=t.indexOf(s))-1])&&a.focus(),l=!0):38==n?((a=(t=this._getVisibleButtons())[(r=t.indexOf(s))-1])&&"jsoneditor-expand"==a.className&&(a=t[r-2]),a||(a=t[t.length-1]),a&&a.focus(),l=!0):39==n?((o=(t=this._getVisibleButtons())[(r=t.indexOf(s))+1])&&"jsoneditor-expand"==o.className&&o.focus(),l=!0):40==n&&((o=(t=this._getVisibleButtons())[(r=t.indexOf(s))+1])&&"jsoneditor-expand"==o.className&&(o=t[r+2]),o||(o=t[0]),o&&(o.focus(),l=!0),l=!0),l&&(e.stopPropagation(),e.preventDefault())},a.prototype._isChildOf=function(e,t){for(var r=e.parentNode;r;){if(r==t)return!0;r=r.parentNode}return!1},t.exports=a},{"./util":68}],56:[function(e,t,r){"use strict";function a(){this.locked=!1}a.prototype.highlight=function(e){this.locked||(this.node!=e&&(this.node&&this.node.setHighlight(!1),this.node=e,this.node.setHighlight(!0)),this._cancelUnhighlight())},a.prototype.unhighlight=function(){if(!this.locked){var e=this;this.node&&(this._cancelUnhighlight(),this.unhighlightTimer=setTimeout(function(){e.node.setHighlight(!1),e.node=void 0,e.unhighlightTimer=void 0},0))}},a.prototype._cancelUnhighlight=function(){this.unhighlightTimer&&(clearTimeout(this.unhighlightTimer),this.unhighlightTimer=void 0)},a.prototype.lock=function(){this.locked=!0},a.prototype.unlock=function(){this.locked=!1},t.exports=a},{}],57:[function(e,t,r){"use strict";function a(e){this.editor=e,this.history=[],this.index=-1,this.clear(),this.actions={editField:{undo:function(e){e.node.updateField(e.oldValue)},redo:function(e){e.node.updateField(e.newValue)}},editValue:{undo:function(e){e.node.updateValue(e.oldValue)},redo:function(e){e.node.updateValue(e.newValue)}},changeType:{undo:function(e){e.node.changeType(e.oldType)},redo:function(e){e.node.changeType(e.newType)}},appendNodes:{undo:function(e){e.nodes.forEach(function(t){e.parent.removeChild(t)})},redo:function(e){e.nodes.forEach(function(t){e.parent.appendChild(t)})}},insertBeforeNodes:{undo:function(e){e.nodes.forEach(function(t){e.parent.removeChild(t)})},redo:function(e){e.nodes.forEach(function(t){e.parent.insertBefore(t,e.beforeNode)})}},insertAfterNodes:{undo:function(e){e.nodes.forEach(function(t){e.parent.removeChild(t)})},redo:function(e){var t=e.afterNode;e.nodes.forEach(function(r){e.parent.insertAfter(e.node,t),t=r})}},removeNodes:{undo:function(e){var t=e.parent,r=t.childs[e.index]||t.append;e.nodes.forEach(function(e){t.insertBefore(e,r)})},redo:function(e){e.nodes.forEach(function(t){e.parent.removeChild(t)})}},duplicateNodes:{undo:function(e){e.nodes.forEach(function(t){e.parent.removeChild(t)})},redo:function(e){var t=e.afterNode;e.nodes.forEach(function(r){e.parent.insertAfter(r,t),t=r})}},moveNodes:{undo:function(e){e.nodes.forEach(function(t){e.oldBeforeNode.parent.moveBefore(t,e.oldBeforeNode)})},redo:function(e){e.nodes.forEach(function(t){e.newBeforeNode.parent.moveBefore(t,e.newBeforeNode)})}},sort:{undo:function(e){var t=e.node;t.hideChilds(),t.sort=e.oldSort,t.childs=e.oldChilds,t.showChilds()},redo:function(e){var t=e.node;t.hideChilds(),t.sort=e.newSort,t.childs=e.newChilds,t.showChilds()}}}}e("./util");a.prototype.onChange=function(){},a.prototype.add=function(e,t){this.index++,this.history[this.index]={action:e,params:t,timestamp:new Date},this.index<this.history.length-1&&this.history.splice(this.index+1,this.history.length-this.index-1),this.onChange()},a.prototype.clear=function(){this.history=[],this.index=-1,this.onChange()},a.prototype.canUndo=function(){return this.index>=0},a.prototype.canRedo=function(){return this.index<this.history.length-1},a.prototype.undo=function(){if(this.canUndo()){var e=this.history[this.index];if(e){var t=this.actions[e.action];t&&t.undo?(t.undo(e.params),e.params.oldSelection&&this.editor.setSelection(e.params.oldSelection)):console.error(new Error('unknown action "'+e.action+'"'))}this.index--,this.onChange()}},a.prototype.redo=function(){if(this.canRedo()){this.index++;var e=this.history[this.index];if(e){var t=this.actions[e.action];t&&t.redo?(t.redo(e.params),e.params.newSelection&&this.editor.setSelection(e.params.newSelection)):console.error(new Error('unknown action "'+e.action+'"'))}this.onChange()}},a.prototype.destroy=function(){this.editor=null,this.history=[],this.index=-1},t.exports=a},{"./util":68}],58:[function(e,t,r){"use strict";function a(e,t,r){if(!(this instanceof a))throw new Error('JSONEditor constructor called without "new".');var i=n.getInternetExplorerVersion();if(-1!=i&&i<9)throw new Error("Unsupported browser, IE9 or newer required. Please install the newest version of your browser.");if(t&&(t.error&&(console.warn('Option "error" has been renamed to "onError"'),t.onError=t.error,delete t.error),t.change&&(console.warn('Option "change" has been renamed to "onChange"'),t.onChange=t.change,delete t.change),t.editable&&(console.warn('Option "editable" has been renamed to "onEditable"'),t.onEditable=t.editable,delete t.editable),t)){var o=["ace","theme","ajv","schema","onChange","onEditable","onError","onModeChange","escapeUnicode","history","search","mode","modes","name","indentation","sortObjectKeys"];Object.keys(t).forEach(function(e){-1===o.indexOf(e)&&console.warn('Unknown option "'+e+'". This option will be ignored')})}arguments.length&&this._create(e,t,r)}var i;try{i=e("ajv")}catch(e){}var o=e("./treemode"),s=e("./textmode"),n=e("./util");a.modes={},a.prototype.DEBOUNCE_INTERVAL=150,a.prototype._create=function(e,t,r){this.container=e,this.options=t||{},this.json=r||{};var a=this.options.mode||"tree";this.setMode(a)},a.prototype.destroy=function(){},a.prototype.set=function(e){this.json=e},a.prototype.get=function(){return this.json},a.prototype.setText=function(e){this.json=n.parse(e)},a.prototype.getText=function(){return JSON.stringify(this.json)},a.prototype.setName=function(e){this.options||(this.options={}),this.options.name=e},a.prototype.getName=function(){return this.options&&this.options.name},a.prototype.setMode=function(e){var t,r,i=this.container,o=n.extend({},this.options),s=o.mode;o.mode=e;var l=a.modes[e];if(!l)throw new Error('Unknown mode "'+o.mode+'"');try{var h="text"==l.data;if(r=this.getName(),t=this[h?"getText":"get"](),this.destroy(),n.clear(this),n.extend(this,l.mixin),this.create(i,o),this.setName(r),this[h?"setText":"set"](t),"function"==typeof l.load)try{l.load.call(this)}catch(e){console.error(e)}if("function"==typeof o.onModeChange&&e!==s)try{o.onModeChange(e,s)}catch(e){console.error(e)}}catch(e){this._onError(e)}},a.prototype.getMode=function(){return this.options.mode},a.prototype._onError=function(e){if(!this.options||"function"!=typeof this.options.onError)throw e;this.options.onError(e)},a.prototype.setSchema=function(e){if(e){var t;try{t=this.options.ajv||i({allErrors:!0,verbose:!0})}catch(e){console.warn("Failed to create an instance of Ajv, JSON Schema validation is not available. Please use a JSONEditor bundle including Ajv, or pass an instance of Ajv as via the configuration option `ajv`.")}t&&(this.validateSchema=t.compile(e),this.options.schema=e,this.validate()),this.refresh()}else this.validateSchema=null,this.options.schema=null,this.validate(),this.refresh()},a.prototype.validate=function(){},a.prototype.refresh=function(){},a.registerMode=function(e){var t,r;if(n.isArray(e))for(t=0;t<e.length;t++)a.registerMode(e[t]);else{if(!("mode"in e))throw new Error('Property "mode" missing');if(!("mixin"in e))throw new Error('Property "mixin" missing');if(!("data"in e))throw new Error('Property "data" missing');var i=e.mode;if(i in a.modes)throw new Error('Mode "'+i+'" already registered');if("function"!=typeof e.mixin.create)throw new Error('Required function "create" missing on mixin');var o=["setMode","registerMode","modes"];for(t=0;t<o.length;t++)if((r=o[t])in e.mixin)throw new Error('Reserved property "'+r+'" not allowed in mixin');a.modes[i]=e}},a.registerMode(o),a.registerMode(s),t.exports=a},{"./textmode":66,"./treemode":67,"./util":68,ajv:8}],59:[function(e,t,r){"use strict";function a(e,t,r,a){for(var o={code:{text:"Code",title:"Afficher sous forme de code",click:function(){a("code")}},form:{text:"Formulaire",title:"Afficher sous forme de formulaire",click:function(){a("form")}},text:{text:"Texte",title:"Afficher en texte brute",click:function(){a("text")}},tree:{text:"Arborescence",title:"Afficher sous une arborescence",click:function(){a("tree")}},view:{text:"Aperçu",title:"Afficher l'aperçu d'arborescence",click:function(){a("view")}}},s=[],n=0;n<t.length;n++){var l=t[n],h=o[l];if(!h)throw new Error('Unknown mode "'+l+'"');h.className="jsoneditor-type-modes"+(r==l?" jsoneditor-selected":""),s.push(h)}var c=o[r];if(!c)throw new Error('Unknown mode "'+r+'"');var d=c.text,u=document.createElement("button");u.type="button",u.className="jsoneditor-modes jsoneditor-separator",u.innerHTML=d+" &#x25BE;",u.title="Switch editor mode",u.onclick=function(){new i(s).show(u)};var p=document.createElement("div");p.className="jsoneditor-modes",p.style.position="relative",p.appendChild(u),e.appendChild(p),this.dom={container:e,box:u,frame:p}}var i=e("./ContextMenu");a.prototype.focus=function(){this.dom.box.focus()},a.prototype.destroy=function(){this.dom&&this.dom.frame&&this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom=null},t.exports=a},{"./ContextMenu":55}],60:[function(e,t,r){"use strict";function a(e,t){this.editor=e,this.dom={},this.expanded=!1,t&&t instanceof Object?(this.setField(t.field,t.fieldEditable),this.setValue(t.value,t.type)):(this.setField(""),this.setValue(null)),this._debouncedOnChangeValue=n.debounce(this._onChangeValue.bind(this),a.prototype.DEBOUNCE_INTERVAL),this._debouncedOnChangeField=n.debounce(this._onChangeField.bind(this),a.prototype.DEBOUNCE_INTERVAL)}var i=e("javascript-natural-sort"),o=e("./ContextMenu"),s=e("./appendNodeFactory"),n=e("./util");a.prototype.DEBOUNCE_INTERVAL=150,a.prototype._updateEditability=function(){if(this.editable={field:!0,value:!0},this.editor&&(this.editable.field="tree"===this.editor.options.mode,this.editable.value="view"!==this.editor.options.mode,("tree"===this.editor.options.mode||"form"===this.editor.options.mode)&&"function"==typeof this.editor.options.onEditable)){var e=this.editor.options.onEditable({field:this.field,value:this.value,path:this.getPath()});"boolean"==typeof e?(this.editable.field=e,this.editable.value=e):("boolean"==typeof e.field&&(this.editable.field=e.field),"boolean"==typeof e.value&&(this.editable.value=e.value))}},a.prototype.getPath=function(){for(var e=this,t=[];e;){var r=e.parent?"array"!=e.parent.type?e.field:e.index:void 0;void 0!==r&&t.unshift(r),e=e.parent}return t},a.prototype.findNode=function(e){for(var t=n.parsePath(e),r=this;r&&t.length>0;){var a=t.shift();if("number"==typeof a){if("array"!==r.type)throw new Error("Cannot get child node at index "+a+": node is no array");r=r.childs[a]}else{if("object"!==r.type)throw new Error("Cannot get child node "+a+": node is no object");r=r.childs.filter(function(e){return e.field===a})[0]}}return r},a.prototype.findParents=function(){for(var e=[],t=this.parent;t;)e.unshift(t),t=t.parent;return e},a.prototype.setError=function(e,t){this.getDom(),this.error=e;var r=this.dom.tdError;if(e){r||(r=document.createElement("td"),this.dom.tdError=r,this.dom.tdValue.parentNode.appendChild(r));var a=document.createElement("div");a.className="jsoneditor-popover jsoneditor-right",a.appendChild(document.createTextNode(e.message));var i=document.createElement("button");for(i.type="button",i.className="jsoneditor-schema-error",i.appendChild(a),i.onmouseover=i.onfocus=function(){for(var e=["right","above","below","left"],t=0;t<e.length;t++){var r=e[t];a.className="jsoneditor-popover jsoneditor-"+r;var i=this.editor.content.getBoundingClientRect(),o=a.getBoundingClientRect();if(n.insideRect(i,o,20))break}}.bind(this),t&&(i.onclick=function(){t.findParents().forEach(function(e){e.expand(!1)}),t.scrollTo(function(){t.focus()})});r.firstChild;)r.removeChild(r.firstChild);r.appendChild(i)}else r&&(this.dom.tdError.parentNode.removeChild(this.dom.tdError),delete this.dom.tdError)},a.prototype.getIndex=function(){return this.parent?this.parent.childs.indexOf(this):-1},a.prototype.setParent=function(e){this.parent=e},a.prototype.setField=function(e,t){this.field=e,this.previousField=e,this.fieldEditable=!0===t},a.prototype.getField=function(){return void 0===this.field&&this._getDomField(),this.field},a.prototype.setValue=function(e,t){var r,i,o=this.childs;if(o)for(;o.length;)this.removeChild(o[0]);if(this.type=this._getType(e),t&&t!=this.type){if("string"!=t||"auto"!=this.type)throw new Error('Type mismatch: cannot cast value of type "'+this.type+' to the specified type "'+t+'"');this.type=t}if("array"==this.type){this.childs=[];for(var s=0,n=e.length;s<n;s++)void 0===(r=e[s])||r instanceof Function||(i=new a(this.editor,{value:r}),this.appendChild(i));this.value=""}else if("object"==this.type){this.childs=[];for(var l in e)e.hasOwnProperty(l)&&(void 0===(r=e[l])||r instanceof Function||(i=new a(this.editor,{field:l,value:r}),this.appendChild(i)));this.value="",!0===this.editor.options.sortObjectKeys&&this.sort("asc")}else this.childs=void 0,this.value=e;this.previousValue=this.value},a.prototype.getValue=function(){if("array"==this.type){var e=[];return this.childs.forEach(function(t){e.push(t.getValue())}),e}if("object"==this.type){var t={};return this.childs.forEach(function(e){t[e.getField()]=e.getValue()}),t}return void 0===this.value&&this._getDomValue(),this.value},a.prototype.getLevel=function(){return this.parent?this.parent.getLevel()+1:0},a.prototype.getNodePath=function(){var e=this.parent?this.parent.getNodePath():[];return e.push(this),e},a.prototype.clone=function(){var e=new a(this.editor);if(e.type=this.type,e.field=this.field,e.fieldInnerText=this.fieldInnerText,e.fieldEditable=this.fieldEditable,e.value=this.value,e.valueInnerText=this.valueInnerText,e.expanded=this.expanded,this.childs){var t=[];this.childs.forEach(function(r){var a=r.clone();a.setParent(e),t.push(a)}),e.childs=t}else e.childs=void 0;return e},a.prototype.expand=function(e){this.childs&&(this.expanded=!0,this.dom.expand&&(this.dom.expand.className="jsoneditor-expanded"),this.showChilds(),!1!==e&&this.childs.forEach(function(t){t.expand(e)}))},a.prototype.collapse=function(e){this.childs&&(this.hideChilds(),!1!==e&&this.childs.forEach(function(t){t.collapse(e)}),this.dom.expand&&(this.dom.expand.className="jsoneditor-collapsed"),this.expanded=!1)},a.prototype.showChilds=function(){if(this.childs&&this.expanded){var e=this.dom.tr,t=e?e.parentNode:void 0;if(t){var r=this.getAppend(),a=e.nextSibling;a?t.insertBefore(r,a):t.appendChild(r),this.childs.forEach(function(e){t.insertBefore(e.getDom(),r),e.showChilds()})}}},a.prototype.hide=function(){var e=this.dom.tr,t=e?e.parentNode:void 0;t&&t.removeChild(e),this.hideChilds()},a.prototype.hideChilds=function(){if(this.childs&&this.expanded){var e=this.getAppend();e.parentNode&&e.parentNode.removeChild(e),this.childs.forEach(function(e){e.hide()})}},a.prototype.appendChild=function(e){if(this._hasChilds()){if(e.setParent(this),e.fieldEditable="object"==this.type,"array"==this.type&&(e.index=this.childs.length),this.childs.push(e),this.expanded){var t=e.getDom(),r=this.getAppend(),a=r?r.parentNode:void 0;r&&a&&a.insertBefore(t,r),e.showChilds()}this.updateDom({updateIndexes:!0}),e.updateDom({recurse:!0})}},a.prototype.moveBefore=function(e,t){if(this._hasChilds()){var r=this.dom.tr?this.dom.tr.parentNode:void 0;if(r){var a=document.createElement("tr");a.style.height=r.clientHeight+"px",r.appendChild(a)}e.parent&&e.parent.removeChild(e),t instanceof l?this.appendChild(e):this.insertBefore(e,t),r&&r.removeChild(a)}},a.prototype.moveTo=function(e,t){e.parent==this&&this.childs.indexOf(e)<t&&t++;var r=this.childs[t]||this.append;this.moveBefore(e,r)},a.prototype.insertBefore=function(e,t){if(this._hasChilds()){if(t==this.append)e.setParent(this),e.fieldEditable="object"==this.type,this.childs.push(e);else{var r=this.childs.indexOf(t);if(-1==r)throw new Error("Node not found");e.setParent(this),e.fieldEditable="object"==this.type,this.childs.splice(r,0,e)}if(this.expanded){var a=e.getDom(),i=t.getDom(),o=i?i.parentNode:void 0;i&&o&&o.insertBefore(a,i),e.showChilds()}this.updateDom({updateIndexes:!0}),e.updateDom({recurse:!0})}},a.prototype.insertAfter=function(e,t){if(this._hasChilds()){var r=this.childs.indexOf(t),a=this.childs[r+1];a?this.insertBefore(e,a):this.appendChild(e)}},a.prototype.search=function(e){var t=[],r=e?e.toLowerCase():void 0;if(delete this.searchField,delete this.searchValue,void 0!=this.field&&(-1!=String(this.field).toLowerCase().indexOf(r)&&(this.searchField=!0,t.push({node:this,elem:"field"})),this._updateDomField()),this._hasChilds()){if(this.childs){var a=[];this.childs.forEach(function(t){a=a.concat(t.search(e))}),t=t.concat(a)}if(void 0!=r){0==a.length?this.collapse(!1):this.expand(!1)}}else void 0!=this.value&&-1!=String(this.value).toLowerCase().indexOf(r)&&(this.searchValue=!0,t.push({node:this,elem:"value"})),this._updateDomValue();return t},a.prototype.scrollTo=function(e){if(!this.dom.tr||!this.dom.tr.parentNode)for(var t=this.parent;t;)t.expand(!1),t=t.parent;this.dom.tr&&this.dom.tr.parentNode&&this.editor.scrollTo(this.dom.tr.offsetTop,e)},a.focusElement=void 0,a.prototype.focus=function(e){if(a.focusElement=e,this.dom.tr&&this.dom.tr.parentNode){var t=this.dom;switch(e){case"drag":t.drag?t.drag.focus():t.menu.focus();break;case"menu":t.menu.focus();break;case"expand":this._hasChilds()?t.expand.focus():t.field&&this.fieldEditable?(t.field.focus(),n.selectContentEditable(t.field)):t.value&&!this._hasChilds()?(t.value.focus(),n.selectContentEditable(t.value)):t.menu.focus();break;case"field":t.field&&this.fieldEditable?(t.field.focus(),n.selectContentEditable(t.field)):t.value&&!this._hasChilds()?(t.value.focus(),n.selectContentEditable(t.value)):this._hasChilds()?t.expand.focus():t.menu.focus();break;case"value":default:t.select?t.select.focus():t.value&&!this._hasChilds()?(t.value.focus(),n.selectContentEditable(t.value)):t.field&&this.fieldEditable?(t.field.focus(),n.selectContentEditable(t.field)):this._hasChilds()?t.expand.focus():t.menu.focus()}}},a.select=function(e){setTimeout(function(){n.selectContentEditable(e)},0)},a.prototype.blur=function(){this._getDomValue(!1),this._getDomField(!1)},a.prototype.containsNode=function(e){if(this==e)return!0;var t=this.childs;if(t)for(var r=0,a=t.length;r<a;r++)if(t[r].containsNode(e))return!0;return!1},a.prototype._move=function(e,t){if(e!=t){if(e.containsNode(this))throw new Error("Cannot move a field into a child of itself");e.parent&&e.parent.removeChild(e);var r=e.clone();e.clearDom(),t?this.insertBefore(r,t):this.appendChild(r)}},a.prototype.removeChild=function(e){if(this.childs){var t=this.childs.indexOf(e);if(-1!=t){e.hide(),delete e.searchField,delete e.searchValue;var r=this.childs.splice(t,1)[0];return r.parent=null,this.updateDom({updateIndexes:!0}),r}}},a.prototype._remove=function(e){this.removeChild(e)},a.prototype.changeType=function(e){var t=this.type;if(t!=e){if("string"!=e&&"auto"!=e||"string"!=t&&"auto"!=t){var r,a=this.dom.tr?this.dom.tr.parentNode:void 0,i=(r=this.expanded?this.getAppend():this.getDom())&&r.parentNode?r.nextSibling:void 0;this.hide(),this.clearDom(),this.type=e,"object"==e?(this.childs||(this.childs=[]),this.childs.forEach(function(e,t){e.clearDom(),delete e.index,e.fieldEditable=!0,void 0==e.field&&(e.field="")}),"string"!=t&&"auto"!=t||(this.expanded=!0)):"array"==e?(this.childs||(this.childs=[]),this.childs.forEach(function(e,t){e.clearDom(),e.fieldEditable=!1,e.index=t}),"string"!=t&&"auto"!=t||(this.expanded=!0)):this.expanded=!1,a&&(i?a.insertBefore(this.getDom(),i):a.appendChild(this.getDom())),this.showChilds()}else this.type=e;"auto"!=e&&"string"!=e||(this.value="string"==e?String(this.value):this._stringCast(String(this.value)),this.focus()),this.updateDom({updateIndexes:!0})}},a.prototype._getDomValue=function(e){if(this.dom.value&&"array"!=this.type&&"object"!=this.type&&(this.valueInnerText=n.getInnerText(this.dom.value)),void 0!=this.valueInnerText)try{var t;if("string"==this.type)t=this._unescapeHTML(this.valueInnerText);else{var r=this._unescapeHTML(this.valueInnerText);t=this._stringCast(r)}t!==this.value&&(this.value=t,this._debouncedOnChangeValue())}catch(t){if(this.value=void 0,!0!==e)throw t}},a.prototype._onChangeValue=function(){var e=this.editor.getSelection();if(e.range){var t=n.textDiff(String(this.value),String(this.previousValue));e.range.startOffset=t.start,e.range.endOffset=t.end}var r=this.editor.getSelection();if(r.range){var a=n.textDiff(String(this.previousValue),String(this.value));r.range.startOffset=a.start,r.range.endOffset=a.end}this.editor._onAction("editValue",{node:this,oldValue:this.previousValue,newValue:this.value,oldSelection:e,newSelection:r}),this.previousValue=this.value},a.prototype._onChangeField=function(){var e=this.editor.getSelection();if(e.range){var t=n.textDiff(this.field,this.previousField);e.range.startOffset=t.start,e.range.endOffset=t.end}var r=this.editor.getSelection();if(r.range){var a=n.textDiff(this.previousField,this.field);r.range.startOffset=a.start,r.range.endOffset=a.end}this.editor._onAction("editField",{node:this,oldValue:this.previousField,newValue:this.field,oldSelection:e,newSelection:r}),this.previousField=this.field},a.prototype._updateDomValue=function(){var e=this.dom.value;if(e){var t=["jsoneditor-value"],r=this.value,a="auto"==this.type?n.type(r):this.type,i="string"==a&&n.isUrl(r);if(t.push("jsoneditor-"+a),i&&t.push("jsoneditor-url"),""==String(this.value)&&"array"!=this.type&&"object"!=this.type&&t.push("jsoneditor-empty"),this.searchValueActive&&t.push("jsoneditor-highlight-active"),this.searchValue&&t.push("jsoneditor-highlight"),e.className=t.join(" "),"array"==a||"object"==a){var o=this.childs?this.childs.length:0;e.title=this.type+" containing "+o+" items"}else i&&this.editable.value?e.title="Ctrl+Click or Ctrl+Enter to open url in new window":e.title="";if("boolean"===a&&this.editable.value?(this.dom.checkbox||(this.dom.checkbox=document.createElement("input"),this.dom.checkbox.type="checkbox",this.dom.tdCheckbox=document.createElement("td"),this.dom.tdCheckbox.className="jsoneditor-tree",this.dom.tdCheckbox.appendChild(this.dom.checkbox),this.dom.tdValue.parentNode.insertBefore(this.dom.tdCheckbox,this.dom.tdValue)),this.dom.checkbox.checked=this.value):this.dom.tdCheckbox&&(this.dom.tdCheckbox.parentNode.removeChild(this.dom.tdCheckbox),delete this.dom.tdCheckbox,delete this.dom.checkbox),this.enum&&this.editable.value){if(!this.dom.select){this.dom.select=document.createElement("select"),this.id=this.field+"_"+(new Date).getUTCMilliseconds(),this.dom.select.id=this.id,this.dom.select.name=this.dom.select.id,this.dom.select.option=document.createElement("option"),this.dom.select.option.value="",this.dom.select.option.innerHTML="--",this.dom.select.appendChild(this.dom.select.option);for(var s=0;s<this.enum.length;s++)this.dom.select.option=document.createElement("option"),this.dom.select.option.value=this.enum[s],this.dom.select.option.innerHTML=this.enum[s],this.dom.select.option.value==this.value&&(this.dom.select.option.selected=!0),this.dom.select.appendChild(this.dom.select.option);this.dom.tdSelect=document.createElement("td"),this.dom.tdSelect.className="jsoneditor-tree",this.dom.tdSelect.appendChild(this.dom.select),this.dom.tdValue.parentNode.insertBefore(this.dom.tdSelect,this.dom.tdValue)}!this.schema||this.schema.hasOwnProperty("oneOf")||this.schema.hasOwnProperty("anyOf")||this.schema.hasOwnProperty("allOf")?delete this.valueFieldHTML:(this.valueFieldHTML=this.dom.tdValue.innerHTML,this.dom.tdValue.style.visibility="hidden",this.dom.tdValue.innerHTML="")}else this.dom.tdSelect&&(this.dom.tdSelect.parentNode.removeChild(this.dom.tdSelect),delete this.dom.tdSelect,delete this.dom.select,this.dom.tdValue.innerHTML=this.valueFieldHTML,this.dom.tdValue.style.visibility="",delete this.valueFieldHTML);n.stripFormatting(e)}},a.prototype._updateDomField=function(){var e=this.dom.field;e&&(""==String(this.field)&&"array"!=this.parent.type?n.addClassName(e,"jsoneditor-empty"):n.removeClassName(e,"jsoneditor-empty"),this.searchFieldActive?n.addClassName(e,"jsoneditor-highlight-active"):n.removeClassName(e,"jsoneditor-highlight-active"),this.searchField?n.addClassName(e,"jsoneditor-highlight"):n.removeClassName(e,"jsoneditor-highlight"),n.stripFormatting(e))},a.prototype._getDomField=function(e){if(this.dom.field&&this.fieldEditable&&(this.fieldInnerText=n.getInnerText(this.dom.field)),void 0!=this.fieldInnerText)try{var t=this._unescapeHTML(this.fieldInnerText);t!==this.field&&(this.field=t,this._debouncedOnChangeField())}catch(t){if(this.field=void 0,!0!==e)throw t}},a.prototype.validate=function(){var e=[];if("object"===this.type){for(var t={},r=[],a=0;a<this.childs.length;a++){var i=this.childs[a];t.hasOwnProperty(i.field)&&r.push(i.field),t[i.field]=!0}r.length>0&&(e=this.childs.filter(function(e){return-1!==r.indexOf(e.field)}).map(function(e){return{node:e,error:{message:'duplicate key "'+e.field+'"'}}}))}if(this.childs)for(a=0;a<this.childs.length;a++){var o=this.childs[a].validate();o.length>0&&(e=e.concat(o))}return e},a.prototype.clearDom=function(){this.dom={}},a.prototype.getDom=function(){var e=this.dom;if(e.tr)return e.tr;if(this._updateEditability(),e.tr=document.createElement("tr"),e.tr.node=this,"tree"===this.editor.options.mode){var t=document.createElement("td");if(this.editable.field&&this.parent){var r=document.createElement("button");r.type="button",e.drag=r,r.className="jsoneditor-dragarea",r.title="Maintenir et déplacer le champ (Alt+Shift+Arrows)",t.appendChild(r)}e.tr.appendChild(t);var a=document.createElement("td"),i=document.createElement("button");i.type="button",e.menu=i,i.className="jsoneditor-contextmenu",i.title="Cliquer pour ouvrir le menu contextuel (Ctrl+M)",a.appendChild(e.menu),e.tr.appendChild(a)}var o=document.createElement("td");return e.tr.appendChild(o),e.tree=this._createDomTree(),o.appendChild(e.tree),this.updateDom({updateIndexes:!0}),e.tr},a.onDragStart=function(e,t){if(!Array.isArray(e))return a.onDragStart([e],t);if(0!==e.length){var r=e[0],i=e[e.length-1],o=a.getNodeFromTarget(t.target),s=i._nextSibling(),l=r.editor,h=n.getAbsoluteTop(o.dom.tr)-n.getAbsoluteTop(r.dom.tr);l.mousemove||(l.mousemove=n.addEventListener(window,"mousemove",function(t){a.onDrag(e,t)})),l.mouseup||(l.mouseup=n.addEventListener(window,"mouseup",function(t){a.onDragEnd(e,t)})),l.highlighter.lock(),l.drag={oldCursor:document.body.style.cursor,oldSelection:l.getSelection(),oldBeforeNode:s,mouseX:t.pageX,offsetY:h,level:r.getLevel()},document.body.style.cursor="move",t.preventDefault()}},a.onDrag=function(e,t){if(!Array.isArray(e))return a.onDrag([e],t);if(0!==e.length){var r,i,o,s,h,c,d,u,p,f,m,v,g,y,b=e[0].editor,E=t.pageY-b.drag.offsetY,x=t.pageX,w=!1,P=e[0];if(r=P.dom.tr,p=n.getAbsoluteTop(r),v=r.offsetHeight,E<p){i=r;do{i=i.previousSibling,d=a.getNodeFromTarget(i),f=i?n.getAbsoluteTop(i):0}while(i&&E<f);d&&!d.parent&&(d=void 0),d||(i=(c=r.parentNode.firstChild)?c.nextSibling:void 0,(d=a.getNodeFromTarget(i))==P&&(d=void 0)),d&&E>(f=(i=d.dom.tr)?n.getAbsoluteTop(i):0)+v&&(d=void 0),d&&(e.forEach(function(e){d.parent.moveBefore(e,d)}),w=!0)}else{var _=e[e.length-1];if(h=_.expanded&&_.append?_.append.getDom():_.dom.tr,s=h?h.nextSibling:void 0){m=n.getAbsoluteTop(s),o=s;do{u=a.getNodeFromTarget(o),o&&(g=o.nextSibling?n.getAbsoluteTop(o.nextSibling):0,y=o?g-m:0,u.parent.childs.length==e.length&&u.parent.childs[e.length-1]==_&&(p+=27)),o=o.nextSibling}while(o&&E>p+y);if(u&&u.parent){var S=x-b.drag.mouseX,j=Math.round(S/24/2),C=b.drag.level+j,N=u.getLevel();for(i=u.dom.tr.previousSibling;N<C&&i;){if(d=a.getNodeFromTarget(i),e.some(function(e){return e===d||d._isChildOf(e)}));else{if(!(d instanceof l))break;var k=d.parent.childs;if(k.length==e.length&&k[e.length-1]==_)break;N=(u=a.getNodeFromTarget(i)).getLevel()}i=i.previousSibling}h.nextSibling!=u.dom.tr&&(e.forEach(function(e){u.parent.moveBefore(e,u)}),w=!0)}}}w&&(b.drag.mouseX=x,b.drag.level=P.getLevel()),b.startAutoScroll(E),t.preventDefault()}},a.onDragEnd=function(e,t){if(!Array.isArray(e))return a.onDrag([e],t);if(0!==e.length){var r=e[0],i=r.editor,o=r.parent,s=o.childs.indexOf(r),l=o.childs[s+e.length]||o.append;e[0]&&e[0].dom.menu.focus();var h={nodes:e,oldSelection:i.drag.oldSelection,newSelection:i.getSelection(),oldBeforeNode:i.drag.oldBeforeNode,newBeforeNode:l};h.oldBeforeNode!=h.newBeforeNode&&i._onAction("moveNodes",h),document.body.style.cursor=i.drag.oldCursor,i.highlighter.unlock(),e.forEach(function(e){t.target!==e.dom.drag&&t.target!==e.dom.menu&&i.highlighter.unhighlight()}),delete i.drag,i.mousemove&&(n.removeEventListener(window,"mousemove",i.mousemove),delete i.mousemove),i.mouseup&&(n.removeEventListener(window,"mouseup",i.mouseup),delete i.mouseup),i.stopAutoScroll(),t.preventDefault()}},a.prototype._isChildOf=function(e){for(var t=this.parent;t;){if(t==e)return!0;t=t.parent}return!1},a.prototype._createDomField=function(){return document.createElement("div")},a.prototype.setHighlight=function(e){this.dom.tr&&(e?n.addClassName(this.dom.tr,"jsoneditor-highlight"):n.removeClassName(this.dom.tr,"jsoneditor-highlight"),this.append&&this.append.setHighlight(e),this.childs&&this.childs.forEach(function(t){t.setHighlight(e)}))},a.prototype.setSelected=function(e,t){this.selected=e,this.dom.tr&&(e?n.addClassName(this.dom.tr,"jsoneditor-selected"):n.removeClassName(this.dom.tr,"jsoneditor-selected"),t?n.addClassName(this.dom.tr,"jsoneditor-first"):n.removeClassName(this.dom.tr,"jsoneditor-first"),this.append&&this.append.setSelected(e),this.childs&&this.childs.forEach(function(t){t.setSelected(e)}))},a.prototype.updateValue=function(e){this.value=e,this.updateDom()},a.prototype.updateField=function(e){this.field=e,this.updateDom()},a.prototype.updateDom=function(e){var t=this.dom.tree;t&&(t.style.marginLeft=24*this.getLevel()+"px");var r=this.dom.field;if(r){this.fieldEditable?(r.contentEditable=this.editable.field,r.spellcheck=!1,r.className="jsoneditor-field"):r.className="jsoneditor-readonly";var a;a=void 0!=this.index?this.index:void 0!=this.field?this.field:this._hasChilds()?this.type:"",r.innerHTML=this._escapeHTML(a),this._updateSchema()}var i=this.dom.value;if(i){var o=this.childs?this.childs.length:0;"array"==this.type?(i.innerHTML="["+o+"]",n.addClassName(this.dom.tr,"jsoneditor-expandable")):"object"==this.type?(i.innerHTML="{"+o+"}",n.addClassName(this.dom.tr,"jsoneditor-expandable")):(i.innerHTML=this._escapeHTML(this.value),n.removeClassName(this.dom.tr,"jsoneditor-expandable"))}this._updateDomField(),this._updateDomValue(),e&&!0===e.updateIndexes&&this._updateDomIndexes(),e&&!0===e.recurse&&this.childs&&this.childs.forEach(function(t){t.updateDom(e)}),this.append&&this.append.updateDom()},a.prototype._updateSchema=function(){this.editor&&this.editor.options&&(this.schema=a._findSchema(this.editor.options.schema,this.getPath()),this.schema?this.enum=a._findEnum(this.schema):delete this.enum)},a._findEnum=function(e){if(e.enum)return e.enum;var t=e.oneOf||e.anyOf||e.allOf;if(t){var r=t.filter(function(e){return e.enum});if(r.length>0)return r[0].enum}return null},a._findSchema=function(e,t){for(var r=e,a=0;a<t.length&&r;a++){var i=t[a];"string"==typeof i&&r.properties?r=r.properties[i]||null:"number"==typeof i&&r.items&&(r=r.items)}return r},a.prototype._updateDomIndexes=function(){var e=this.dom.value,t=this.childs;e&&t&&("array"==this.type?t.forEach(function(e,t){e.index=t;var r=e.dom.field;r&&(r.innerHTML=t)}):"object"==this.type&&t.forEach(function(e){void 0!=e.index&&(delete e.index,void 0==e.field&&(e.field=""))}))},a.prototype._createDomValue=function(){var e;return"array"==this.type?(e=document.createElement("div")).innerHTML="[...]":"object"==this.type?(e=document.createElement("div")).innerHTML="{...}":!this.editable.value&&n.isUrl(this.value)?((e=document.createElement("a")).href=this.value,e.target="_blank",e.innerHTML=this._escapeHTML(this.value)):((e=document.createElement("div")).contentEditable=this.editable.value,e.spellcheck=!1,e.innerHTML=this._escapeHTML(this.value)),e},a.prototype._createDomExpandButton=function(){var e=document.createElement("button");return e.type="button",this._hasChilds()?(e.className=this.expanded?"jsoneditor-expanded":"jsoneditor-collapsed",e.title="Click to expand/collapse this field (Ctrl+E). \nCtrl+Click to expand/collapse including all childs."):(e.className="jsoneditor-invisible",e.title=""),e},a.prototype._createDomTree=function(){var e=this.dom,t=document.createElement("table"),r=document.createElement("tbody");t.style.borderCollapse="collapse",t.className="jsoneditor-values",t.appendChild(r);var a=document.createElement("tr");r.appendChild(a);var i=document.createElement("td");i.className="jsoneditor-tree",a.appendChild(i),e.expand=this._createDomExpandButton(),i.appendChild(e.expand),e.tdExpand=i;var o=document.createElement("td");o.className="jsoneditor-tree",a.appendChild(o),e.field=this._createDomField(),o.appendChild(e.field),e.tdField=o;var s=document.createElement("td");s.className="jsoneditor-tree",a.appendChild(s),"object"!=this.type&&"array"!=this.type&&(s.appendChild(document.createTextNode(":")),s.className="jsoneditor-separator"),e.tdSeparator=s;var n=document.createElement("td");return n.className="jsoneditor-tree",a.appendChild(n),e.value=this._createDomValue(),n.appendChild(e.value),e.tdValue=n,t},a.prototype.onEvent=function(e){var t=e.type,r=e.target||e.srcElement,a=this.dom,i=this,o=this._hasChilds();if(r!=a.drag&&r!=a.menu||("mouseover"==t?this.editor.highlighter.highlight(this):"mouseout"==t&&this.editor.highlighter.unhighlight()),"click"==t&&r==a.menu){var s=i.editor.highlighter;s.highlight(i),s.lock(),n.addClassName(a.menu,"jsoneditor-selected"),this.showContextMenu(a.menu,function(){n.removeClassName(a.menu,"jsoneditor-selected"),s.unlock(),s.unhighlight()})}if("click"==t&&(r==a.expand||("view"===i.editor.options.mode||"form"===i.editor.options.mode)&&"DIV"===r.nodeName)&&o){var l=e.ctrlKey;this._onExpand(l)}"change"==t&&r==a.checkbox&&(this.dom.value.innerHTML=!this.value,this._getDomValue()),"change"==t&&r==a.select&&(this.dom.value.innerHTML=a.select.value,this._getDomValue(),this._updateDomValue());var h=a.value;if(r==h)switch(t){case"blur":case"change":this._getDomValue(!0),this._updateDomValue(),this.value&&(h.innerHTML=this._escapeHTML(this.value));break;case"input":this._getDomValue(!0),this._updateDomValue();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getSelection();break;case"click":!e.ctrlKey&&this.editable.value||n.isUrl(this.value)&&window.open(this.value,"_blank");break;case"keyup":this._getDomValue(!0),this._updateDomValue();break;case"cut":case"paste":setTimeout(function(){i._getDomValue(!0),i._updateDomValue()},1)}var c=a.field;if(r==c)switch(t){case"blur":case"change":this._getDomField(!0),this._updateDomField(),this.field&&(c.innerHTML=this._escapeHTML(this.field));break;case"input":this._getDomField(!0),this._updateSchema(),this._updateDomField(),this._updateDomValue();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getSelection();break;case"keyup":this._getDomField(!0),this._updateDomField();break;case"cut":case"paste":setTimeout(function(){i._getDomField(!0),i._updateDomField()},1)}r!=a.tree.parentNode||"click"!=t||e.hasMoved||((void 0!=e.offsetX?e.offsetX<24*(this.getLevel()+1):e.pageX<n.getAbsoluteLeft(a.tdSeparator))||o?c&&(n.setEndOfContentEditable(c),c.focus()):h&&!this.enum&&(n.setEndOfContentEditable(h),h.focus())),(r!=a.tdExpand||o)&&r!=a.tdField&&r!=a.tdSeparator||"click"!=t||e.hasMoved||c&&(n.setEndOfContentEditable(c),c.focus()),"keydown"==t&&this.onKeyDown(e)},a.prototype.onKeyDown=function(e){var t,r,i,o,s,h,c,d,u=e.which||e.keyCode,p=e.target||e.srcElement,f=e.ctrlKey,m=e.shiftKey,v=e.altKey,g=!1,y="tree"===this.editor.options.mode,b=this.editor.multiselection.nodes.length>0?this.editor.multiselection.nodes:[this],E=b[0],x=b[b.length-1];if(13==u){if(p==this.dom.value)this.editable.value&&!e.ctrlKey||n.isUrl(this.value)&&(window.open(this.value,"_blank"),g=!0);else if(p==this.dom.expand&&this._hasChilds()){var w=e.ctrlKey;this._onExpand(w),p.focus(),g=!0}}else if(68==u)f&&y&&(a.onDuplicate(b),g=!0);else if(69==u)f&&(this._onExpand(m),p.focus(),g=!0);else if(77==u&&y)f&&(this.showContextMenu(p),g=!0);else if(46==u&&y)f&&(a.onRemove(b),g=!0);else if(45==u&&y)f&&!m?(this._onInsertBefore(),g=!0):f&&m&&(this._onInsertAfter(),g=!0);else if(35==u){if(v){var P=this._lastNode();P&&P.focus(a.focusElement||this._getElementName(p)),g=!0}}else if(36==u){if(v){var _=this._firstNode();_&&_.focus(a.focusElement||this._getElementName(p)),g=!0}}else if(37==u){if(v&&!m){var S=this._previousElement(p);S&&this.focus(this._getElementName(S)),g=!0}else if(v&&m&&y){if(x.expanded){var j=x.getAppend();i=j?j.nextSibling:void 0}else{var C=x.getDom();i=C.nextSibling}i&&(r=a.getNodeFromTarget(i),o=i.nextSibling,O=a.getNodeFromTarget(o),r&&r instanceof l&&1!=x.parent.childs.length&&O&&O.parent&&(s=this.editor.getSelection(),h=x._nextSibling(),b.forEach(function(e){O.parent.moveBefore(e,O)}),this.focus(a.focusElement||this._getElementName(p)),this.editor._onAction("moveNodes",{nodes:b,oldBeforeNode:h,newBeforeNode:O,oldSelection:s,newSelection:this.editor.getSelection()})))}}else if(38==u)v&&!m?((t=this._previousNode())&&(this.editor.deselect(!0),t.focus(a.focusElement||this._getElementName(p))),g=!0):!v&&f&&m&&y?((t=this._previousNode())&&((d=this.editor.multiselection).start=d.start||this,d.end=t,c=this.editor._findTopLevelNodes(d.start,d.end),this.editor.select(c),t.focus("field")),g=!0):v&&m&&y&&((t=E._previousNode())&&t.parent&&(s=this.editor.getSelection(),h=x._nextSibling(),b.forEach(function(e){t.parent.moveBefore(e,t)}),this.focus(a.focusElement||this._getElementName(p)),this.editor._onAction("moveNodes",{nodes:b,oldBeforeNode:h,newBeforeNode:t,oldSelection:s,newSelection:this.editor.getSelection()})),g=!0);else if(39==u){if(v&&!m){var N=this._nextElement(p);N&&this.focus(this._getElementName(N)),g=!0}else if(v&&m&&y){var k=(C=E.getDom()).previousSibling;k&&(t=a.getNodeFromTarget(k))&&t.parent&&t instanceof l&&!t.isVisible()&&(s=this.editor.getSelection(),h=x._nextSibling(),b.forEach(function(e){t.parent.moveBefore(e,t)}),this.focus(a.focusElement||this._getElementName(p)),this.editor._onAction("moveNodes",{nodes:b,oldBeforeNode:h,newBeforeNode:t,oldSelection:s,newSelection:this.editor.getSelection()}))}}else if(40==u)if(v&&!m)(r=this._nextNode())&&(this.editor.deselect(!0),r.focus(a.focusElement||this._getElementName(p))),g=!0;else if(!v&&f&&m&&y)(r=this._nextNode())&&((d=this.editor.multiselection).start=d.start||this,d.end=r,c=this.editor._findTopLevelNodes(d.start,d.end),this.editor.select(c),r.focus("field")),g=!0;else if(v&&m&&y){var O=(r=x.expanded?x.append?x.append._nextNode():void 0:x._nextNode())&&(r._nextNode()||r.parent.append);O&&O.parent&&(s=this.editor.getSelection(),h=x._nextSibling(),b.forEach(function(e){O.parent.moveBefore(e,O)}),this.focus(a.focusElement||this._getElementName(p)),this.editor._onAction("moveNodes",{nodes:b,oldBeforeNode:h,newBeforeNode:O,oldSelection:s,newSelection:this.editor.getSelection()})),g=!0}g&&(e.preventDefault(),e.stopPropagation())},a.prototype._onExpand=function(e){if(e){var t=this.dom.tr.parentNode,r=t.parentNode,a=r.scrollTop;r.removeChild(t)}this.expanded?this.collapse(e):this.expand(e),e&&(r.appendChild(t),r.scrollTop=a)},a.onRemove=function(e){if(!Array.isArray(e))return a.onRemove([e]);if(e&&e.length>0){var t=e[0],r=t.parent,i=t.editor,o=t.getIndex();i.highlighter.unhighlight();var s=i.getSelection();a.blurNodes(e);var n=i.getSelection();e.forEach(function(e){e.parent._remove(e)}),i._onAction("removeNodes",{nodes:e.slice(0),parent:r,index:o,oldSelection:s,newSelection:n})}},a.onDuplicate=function(e){if(!Array.isArray(e))return a.onDuplicate([e]);if(e&&e.length>0){var t=e[e.length-1],r=t.parent,i=t.editor;i.deselect(i.multiselection.nodes);var o=i.getSelection(),s=t,n=e.map(function(e){var t=e.clone();return r.insertAfter(t,s),s=t,t});1===e.length?n[0].focus():i.select(n);var l=i.getSelection();i._onAction("duplicateNodes",{afterNode:t,nodes:n,parent:r,oldSelection:o,newSelection:l})}},a.prototype._onInsertBefore=function(e,t,r){var i=this.editor.getSelection(),o=new a(this.editor,{field:void 0!=e?e:"",value:void 0!=t?t:"",type:r});o.expand(!0),this.parent.insertBefore(o,this),this.editor.highlighter.unhighlight(),o.focus("field");var s=this.editor.getSelection();this.editor._onAction("insertBeforeNodes",{nodes:[o],beforeNode:this,parent:this.parent,oldSelection:i,newSelection:s})},a.prototype._onInsertAfter=function(e,t,r){var i=this.editor.getSelection(),o=new a(this.editor,{field:void 0!=e?e:"",value:void 0!=t?t:"",type:r});o.expand(!0),this.parent.insertAfter(o,this),this.editor.highlighter.unhighlight(),o.focus("field");var s=this.editor.getSelection();this.editor._onAction("insertAfterNodes",{nodes:[o],afterNode:this,parent:this.parent,oldSelection:i,newSelection:s})},a.prototype._onAppend=function(e,t,r){var i=this.editor.getSelection(),o=new a(this.editor,{field:void 0!=e?e:"",value:void 0!=t?t:"",type:r});o.expand(!0),this.parent.appendChild(o),this.editor.highlighter.unhighlight(),o.focus("field");var s=this.editor.getSelection();this.editor._onAction("appendNodes",{nodes:[o],parent:this.parent,oldSelection:i,newSelection:s})},a.prototype._onChangeType=function(e){var t=this.type;if(e!=t){var r=this.editor.getSelection();this.changeType(e);var a=this.editor.getSelection();this.editor._onAction("changeType",{node:this,oldType:t,newType:e,oldSelection:r,newSelection:a})}},a.prototype.sort=function(e){if(this._hasChilds()){var t="desc"==e?-1:1,r="array"==this.type?"value":"field";this.hideChilds();var a=this.childs,o=this.sortOrder;this.childs=this.childs.concat(),this.childs.sort(function(e,a){return t*i(e[r],a[r])}),this.sortOrder=1==t?"asc":"desc",this.editor._onAction("sort",{node:this,oldChilds:a,oldSort:o,newChilds:this.childs,newSort:this.sortOrder}),this.showChilds()}},a.prototype.getAppend=function(){return this.append||(this.append=new l(this.editor),this.append.setParent(this)),this.append.getDom()},a.getNodeFromTarget=function(e){for(;e;){if(e.node)return e.node;e=e.parentNode}},a.blurNodes=function(e){if(Array.isArray(e)){var t=e[0],r=t.parent,i=t.getIndex();r.childs[i+e.length]?r.childs[i+e.length].focus():r.childs[i-1]?r.childs[i-1].focus():r.focus()}else a.blurNodes([e])},a.prototype._nextSibling=function(){var e=this.parent.childs.indexOf(this);return this.parent.childs[e+1]||this.parent.append},a.prototype._previousNode=function(){var e=null,t=this.getDom();if(t&&t.parentNode){var r=t;do{r=r.previousSibling,e=a.getNodeFromTarget(r)}while(r&&e instanceof l&&!e.isVisible())}return e},a.prototype._nextNode=function(){var e=null,t=this.getDom();if(t&&t.parentNode){var r=t;do{r=r.nextSibling,e=a.getNodeFromTarget(r)}while(r&&e instanceof l&&!e.isVisible())}return e},a.prototype._firstNode=function(){var e=null,t=this.getDom();if(t&&t.parentNode){var r=t.parentNode.firstChild;e=a.getNodeFromTarget(r)}return e},a.prototype._lastNode=function(){var e=null,t=this.getDom();if(t&&t.parentNode){var r=t.parentNode.lastChild;for(e=a.getNodeFromTarget(r);r&&e instanceof l&&!e.isVisible();)r=r.previousSibling,e=a.getNodeFromTarget(r)}return e},a.prototype._previousElement=function(e){var t=this.dom;switch(e){case t.value:if(this.fieldEditable)return t.field;case t.field:if(this._hasChilds())return t.expand;case t.expand:return t.menu;case t.menu:if(t.drag)return t.drag;default:return null}},a.prototype._nextElement=function(e){var t=this.dom;switch(e){case t.drag:return t.menu;case t.menu:if(this._hasChilds())return t.expand;case t.expand:if(this.fieldEditable)return t.field;case t.field:if(!this._hasChilds())return t.value;default:return null}},a.prototype._getElementName=function(e){var t=this.dom;for(var r in t)if(t.hasOwnProperty(r)&&t[r]==e)return r;return null},a.prototype._hasChilds=function(){return"array"==this.type||"object"==this.type},a.TYPE_TITLES={auto:'Champ de type "auto". Le type de ce champ est automatiquement déterminé d\'après sa valeur et peut être des caractères, un nombre, un booléen, ou nul.',object:'Champ de type "objet". Un objet contient des paires non ordonnée de clé/valeur.',array:'Champ de type "tableau". Un tableau contient une collection de valeurs ordonnées.',string:'Champ de type "caractères". Le type du champ n\'est pas déterminé en fonction de sa valeur, mais est toujours de type chaîne de caractères.'},a.prototype.showContextMenu=function(e,t){var r=this,i=a.TYPE_TITLES,s=[];if(this.editable.value&&s.push({text:"Type",title:"Changer le type du champ",className:"jsoneditor-type-"+this.type,submenu:[{text:"Auto",className:"jsoneditor-type-auto"+("auto"==this.type?" jsoneditor-selected":""),title:i.auto,click:function(){r._onChangeType("auto")}},{text:"Tableau",className:"jsoneditor-type-array"+("array"==this.type?" jsoneditor-selected":""),title:i.array,click:function(){r._onChangeType("array")}},{text:"Objet",className:"jsoneditor-type-object"+("object"==this.type?" jsoneditor-selected":""),title:i.object,click:function(){r._onChangeType("object")}},{text:"Caractères",className:"jsoneditor-type-string"+("string"==this.type?" jsoneditor-selected":""),title:i.string,click:function(){r._onChangeType("string")}}]}),this._hasChilds()){var n="asc"==this.sortOrder?"desc":"asc";s.push({text:"Trier",title:"Trier les enfants par "+this.type,className:"jsoneditor-sort-"+n,click:function(){r.sort(n)},submenu:[{text:"Ascendant",className:"jsoneditor-sort-asc",title:"Trier les enfants par "+this.type+" dans un ordre ascendant",click:function(){r.sort("asc")}},{text:"Descendant",className:"jsoneditor-sort-desc",title:"Trier les enfants par "+this.type+" dans un ordre descendant",click:function(){r.sort("desc")}}]})}if(this.parent&&this.parent._hasChilds()){s.length&&s.push({type:"separator"});var l=r.parent.childs;r==l[l.length-1]&&s.push({text:"Postjouter",title:"Ajouter un nouveau champ de type 'auto' après ce champ (Ctrl+Shift+Ins)",submenuTitle:"Sélectionner le type du champ à ajouter",className:"jsoneditor-append",click:function(){r._onAppend("","","auto")},submenu:[{text:"Auto",className:"jsoneditor-type-auto",title:i.auto,click:function(){r._onAppend("","","auto")}},{text:"Tableau",className:"jsoneditor-type-array",title:i.array,click:function(){r._onAppend("",[])}},{text:"Objet",className:"jsoneditor-type-object",title:i.object,click:function(){r._onAppend("",{})}},{text:"Caractères",className:"jsoneditor-type-string",title:i.string,click:function(){r._onAppend("","","string")}}]}),s.push({text:"Ajouter",title:"Ajouter un nouveau champ de type 'auto' avant ce champ (Ctrl+Ins)",submenuTitle:"Sélectionner le type du champ à ajouter",className:"jsoneditor-insert",click:function(){r._onInsertBefore("","","auto")},submenu:[{text:"Auto",className:"jsoneditor-type-auto",title:i.auto,click:function(){r._onInsertBefore("","","auto")}},{text:"Tableau",className:"jsoneditor-type-array",title:i.array,click:function(){r._onInsertBefore("",[])}},{text:"Objet",className:"jsoneditor-type-object",title:i.object,click:function(){r._onInsertBefore("",{})}},{text:"Caractères",className:"jsoneditor-type-string",title:i.string,click:function(){r._onInsertBefore("","","string")}}]}),this.editable.field&&(s.push({text:"Dupliquer",title:"Dupliquer ce champ (Ctrl+D)",className:"jsoneditor-duplicate",click:function(){a.onDuplicate(r)}}),s.push({text:"Supprimer",title:"Supprimer ce champ (Ctrl+Del)",className:"jsoneditor-remove",click:function(){a.onRemove(r)}}))}new o(s,{close:t}).show(e,this.editor.content)},a.prototype._getType=function(e){return e instanceof Array?"array":e instanceof Object?"object":"string"==typeof e&&"string"!=typeof this._stringCast(e)?"string":"auto"},a.prototype._stringCast=function(e){var t=e.toLowerCase(),r=Number(e),a=parseFloat(e);return""==e?"":"null"==t?null:"true"==t||"false"!=t&&(isNaN(r)||isNaN(a)?e:r)},a.prototype._escapeHTML=function(e){if("string"!=typeof e)return String(e);var t=String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/  /g," &nbsp;").replace(/^ /,"&nbsp;").replace(/ $/,"&nbsp;"),r=JSON.stringify(t),a=r.substring(1,r.length-1);return!0===this.editor.options.escapeUnicode&&(a=n.escapeUnicodeChars(a)),a},a.prototype._unescapeHTML=function(e){var t='"'+this._escapeJSON(e)+'"';return n.parse(t).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;|\u00A0/g," ").replace(/&amp;/g,"&")},a.prototype._escapeJSON=function(e){for(var t="",r=0;r<e.length;){var a=e.charAt(r);"\n"==a?t+="\\n":"\\"==a?(t+=a,r++,""!==(a=e.charAt(r))&&-1!='"\\/bfnrtu'.indexOf(a)||(t+="\\"),t+=a):t+='"'==a?'\\"':a,r++}return t};var l=s(a);t.exports=a},{"./ContextMenu":55,"./appendNodeFactory":64,"./util":68,"javascript-natural-sort":50}],61:[function(e,t,r){"use strict";function a(e,t){var r=this;this.editor=e,this.timeout=void 0,this.delay=200,this.lastText=void 0,this.dom={},this.dom.container=t;var a=document.createElement("table");this.dom.table=a,a.className="jsoneditor-search",t.appendChild(a);var i=document.createElement("tbody");this.dom.tbody=i,a.appendChild(i);var o=document.createElement("tr");i.appendChild(o);var s=document.createElement("td");o.appendChild(s);var n=document.createElement("div");this.dom.results=n,n.className="jsoneditor-results",s.appendChild(n),s=document.createElement("td"),o.appendChild(s);var l=document.createElement("div");this.dom.input=l,l.className="jsoneditor-frame",l.title="Chercher dans les champs et les valeurs",s.appendChild(l);var h=document.createElement("table");l.appendChild(h);var c=document.createElement("tbody");h.appendChild(c),o=document.createElement("tr"),c.appendChild(o);var d=document.createElement("button");d.type="button",d.className="jsoneditor-refresh",(s=document.createElement("td")).appendChild(d),o.appendChild(s);var u=document.createElement("input");this.dom.search=u,u.oninput=function(e){r._onDelayedSearch(e)},u.onchange=function(e){r._onSearch()},u.onkeydown=function(e){r._onKeyDown(e)},u.onkeyup=function(e){r._onKeyUp(e)},d.onclick=function(e){u.select()},(s=document.createElement("td")).appendChild(u),o.appendChild(s);var p=document.createElement("button");p.type="button",p.title="Résultat suivant (Entrer)",p.className="jsoneditor-next",p.onclick=function(){r.next()},(s=document.createElement("td")).appendChild(p),o.appendChild(s);var f=document.createElement("button");f.type="button",f.title="Résultat précédent (Shift+Entrer)",f.className="jsoneditor-previous",f.onclick=function(){r.previous()},(s=document.createElement("td")).appendChild(f),o.appendChild(s)}a.prototype.next=function(e){if(void 0!=this.results){var t=void 0!=this.resultIndex?this.resultIndex+1:0;t>this.results.length-1&&(t=0),this._setActiveResult(t,e)}},a.prototype.previous=function(e){if(void 0!=this.results){var t=this.results.length-1,r=void 0!=this.resultIndex?this.resultIndex-1:t;r<0&&(r=t),this._setActiveResult(r,e)}},a.prototype._setActiveResult=function(e,t){if(this.activeResult){var r=this.activeResult.node;"field"==this.activeResult.elem?delete r.searchFieldActive:delete r.searchValueActive,r.updateDom()}if(!this.results||!this.results[e])return this.resultIndex=void 0,void(this.activeResult=void 0);this.resultIndex=e;var a=this.results[this.resultIndex].node,i=this.results[this.resultIndex].elem;"field"==i?a.searchFieldActive=!0:a.searchValueActive=!0,this.activeResult=this.results[this.resultIndex],a.updateDom(),a.scrollTo(function(){t&&a.focus(i)})},a.prototype._clearDelay=function(){void 0!=this.timeout&&(clearTimeout(this.timeout),delete this.timeout)},a.prototype._onDelayedSearch=function(e){this._clearDelay();var t=this;this.timeout=setTimeout(function(e){t._onSearch()},this.delay)},a.prototype._onSearch=function(e){this._clearDelay();var t=this.dom.search.value,r=t.length>0?t:void 0;if(r!=this.lastText||e)if(this.lastText=r,this.results=this.editor.search(r),this._setActiveResult(void 0),void 0!=r){var a=this.results.length;switch(a){case 0:this.dom.results.innerHTML="no&nbsp;results";break;case 1:this.dom.results.innerHTML="1&nbsp;result";break;default:this.dom.results.innerHTML=a+"&nbsp;results"}}else this.dom.results.innerHTML=""},a.prototype._onKeyDown=function(e){var t=e.which;27==t?(this.dom.search.value="",this._onSearch(),e.preventDefault(),e.stopPropagation()):13==t&&(e.ctrlKey?this._onSearch(!0):e.shiftKey?this.previous():this.next(),e.preventDefault(),e.stopPropagation())},a.prototype._onKeyUp=function(e){var t=e.keyCode;27!=t&&13!=t&&this._onDelayedSearch(e)},a.prototype.clear=function(){this.dom.search.value="",this._onSearch()},a.prototype.destroy=function(){this.editor=null,this.dom.container.removeChild(this.dom.table),this.dom=null,this.results=null,this.activeResult=null,this._clearDelay()},t.exports=a},{}],62:[function(e,t,r){var a;if(window.ace)a=window.ace;else try{a=e("brace"),e("brace/mode/json"),e("brace/ext/searchbox")}catch(e){}t.exports=a},{brace:"brace","brace/ext/searchbox":"brace/ext/searchbox","brace/mode/json":"brace/mode/json"}],63:[function(e,t,r){ace.define("ace/theme/jsoneditor",["require","exports","module","ace/lib/dom"],function(e,t,r){t.isDark=!1,t.cssClass="ace-jsoneditor",t.cssText='.ace-jsoneditor .ace_gutter {background: #ebebeb;color: #333}.ace-jsoneditor.ace_editor {font-family: droid sans mono, consolas, monospace, courier new, courier, sans-serif;line-height: 1.3;background-color: #fff;}.ace-jsoneditor .ace_print-margin {width: 1px;background: #e8e8e8}.ace-jsoneditor .ace_scroller {background-color: #FFFFFF}.ace-jsoneditor .ace_text-layer {color: gray}.ace-jsoneditor .ace_variable {color: #1a1a1a}.ace-jsoneditor .ace_cursor {border-left: 2px solid #000000}.ace-jsoneditor .ace_overwrite-cursors .ace_cursor {border-left: 0px;border-bottom: 1px solid #000000}.ace-jsoneditor .ace_marker-layer .ace_selection {background: lightgray}.ace-jsoneditor.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #FFFFFF;border-radius: 2px}.ace-jsoneditor .ace_marker-layer .ace_step {background: rgb(255, 255, 0)}.ace-jsoneditor .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #BFBFBF}.ace-jsoneditor .ace_marker-layer .ace_active-line {background: #FFFBD1}.ace-jsoneditor .ace_gutter-active-line {background-color : #dcdcdc}.ace-jsoneditor .ace_marker-layer .ace_selected-word {border: 1px solid lightgray}.ace-jsoneditor .ace_invisible {color: #BFBFBF}.ace-jsoneditor .ace_keyword,.ace-jsoneditor .ace_meta,.ace-jsoneditor .ace_support.ace_constant.ace_property-value {color: #AF956F}.ace-jsoneditor .ace_keyword.ace_operator {color: #484848}.ace-jsoneditor .ace_keyword.ace_other.ace_unit {color: #96DC5F}.ace-jsoneditor .ace_constant.ace_language {color: darkorange}.ace-jsoneditor .ace_constant.ace_numeric {color: red}.ace-jsoneditor .ace_constant.ace_character.ace_entity {color: #BF78CC}.ace-jsoneditor .ace_invalid {color: #FFFFFF;background-color: #FF002A;}.ace-jsoneditor .ace_fold {background-color: #AF956F;border-color: #000000}.ace-jsoneditor .ace_storage,.ace-jsoneditor .ace_support.ace_class,.ace-jsoneditor .ace_support.ace_function,.ace-jsoneditor .ace_support.ace_other,.ace-jsoneditor .ace_support.ace_type {color: #C52727}.ace-jsoneditor .ace_string {color: green}.ace-jsoneditor .ace_comment {color: #BCC8BA}.ace-jsoneditor .ace_entity.ace_name.ace_tag,.ace-jsoneditor .ace_entity.ace_other.ace_attribute-name {color: #606060}.ace-jsoneditor .ace_markup.ace_underline {text-decoration: underline}.ace-jsoneditor .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y}',e("../lib/dom").importCssString(t.cssText,t.cssClass)})},{}],64:[function(e,t,r){"use strict";var a=e("./util"),i=e("./ContextMenu");t.exports=function(e){function t(e){this.editor=e,this.dom={}}return t.prototype=new e,t.prototype.getDom=function(){var e=this.dom;if(e.tr)return e.tr;this._updateEditability();var t=document.createElement("tr");if(t.node=this,e.tr=t,"tree"===this.editor.options.mode){e.tdDrag=document.createElement("td");var r=document.createElement("td");e.tdMenu=r;var a=document.createElement("button");a.type="button",a.className="jsoneditor-contextmenu",a.title="Click to open the actions menu (Ctrl+M)",e.menu=a,r.appendChild(e.menu)}var i=document.createElement("td"),o=document.createElement("div");return o.innerHTML="(empty)",o.className="jsoneditor-readonly",i.appendChild(o),e.td=i,e.text=o,this.updateDom(),t},t.prototype.updateDom=function(){var e=this.dom,t=e.td;t&&(t.style.paddingLeft=24*this.getLevel()+26+"px");var r=e.text;r&&(r.innerHTML="(empty "+this.parent.type+")");var a=e.tr;this.isVisible()?e.tr.firstChild||(e.tdDrag&&a.appendChild(e.tdDrag),e.tdMenu&&a.appendChild(e.tdMenu),a.appendChild(t)):e.tr.firstChild&&(e.tdDrag&&a.removeChild(e.tdDrag),e.tdMenu&&a.removeChild(e.tdMenu),a.removeChild(t))},t.prototype.isVisible=function(){return 0==this.parent.childs.length},t.prototype.showContextMenu=function(t,r){var a=this,o=e.TYPE_TITLES,s=[{text:"Append",title:"Append a new field with type 'auto' (Ctrl+Shift+Ins)",submenuTitle:"Select the type of the field to be appended",className:"jsoneditor-insert",click:function(){a._onAppend("","","auto")},submenu:[{text:"Auto",className:"jsoneditor-type-auto",title:o.auto,click:function(){a._onAppend("","","auto")}},{text:"Array",className:"jsoneditor-type-array",title:o.array,click:function(){a._onAppend("",[])}},{text:"Object",className:"jsoneditor-type-object",title:o.object,click:function(){a._onAppend("",{})}},{text:"String",className:"jsoneditor-type-string",title:o.string,click:function(){a._onAppend("","","string")}}]}];new i(s,{close:r}).show(t,this.editor.content)},t.prototype.onEvent=function(e){var t=e.type,r=e.target||e.srcElement,i=this.dom;if(r==i.menu&&("mouseover"==t?this.editor.highlighter.highlight(this.parent):"mouseout"==t&&this.editor.highlighter.unhighlight()),"click"==t&&r==i.menu){var o=this.editor.highlighter;o.highlight(this.parent),o.lock(),a.addClassName(i.menu,"jsoneditor-selected"),this.showContextMenu(i.menu,function(){a.removeClassName(i.menu,"jsoneditor-selected"),o.unlock(),o.unhighlight()})}"keydown"==t&&this.onKeyDown(e)},t}},{"./ContextMenu":55,"./util":68}],65:[function(e,t,r){var a=function(){var e={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(e,t,r,a,i,o,s){var n=o.length-1;switch(i){case 1:this.$=e.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(e);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=o[n-1];case 13:this.$={};break;case 14:this.$=o[n-1];break;case 15:this.$=[o[n-2],o[n]];break;case 16:this.$={},this.$[o[n][0]]=o[n][1];break;case 17:this.$=o[n-2],o[n-2][o[n][0]]=o[n][1];break;case 18:this.$=[];break;case 19:this.$=o[n-1];break;case 20:this.$=[o[n]];break;case 21:this.$=o[n-2],o[n-2].push(o[n])}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(e,t){throw new Error(e)},parse:function(e){function t(){var e;return"number"!=typeof(e=r.lexer.lex()||1)&&(e=r.symbols_[e]||e),e}var r=this,a=[0],i=[null],o=[],s=this.table,n="",l=0,h=0,c=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var d=this.lexer.yylloc;o.push(d),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var u,p,f,m,v,g,y,b,E,x={};;){if(f=a[a.length-1],this.defaultActions[f]?m=this.defaultActions[f]:(null==u&&(u=t()),m=s[f]&&s[f][u]),void 0===m||!m.length||!m[0]){if(!c){E=[];for(g in s[f])this.terminals_[g]&&g>2&&E.push("'"+this.terminals_[g]+"'");var w="";w=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+E.join(", ")+", got '"+this.terminals_[u]+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==u?"end of input":"'"+(this.terminals_[u]||u)+"'"),this.parseError(w,{text:this.lexer.match,token:this.terminals_[u]||u,line:this.lexer.yylineno,loc:d,expected:E})}if(3==c){if(1==u)throw new Error(w||"Parsing halted.");h=this.lexer.yyleng,n=this.lexer.yytext,l=this.lexer.yylineno,d=this.lexer.yylloc,u=t()}for(;;){if(2..toString()in s[f])break;if(0==f)throw new Error(w||"Parsing halted.");!function(e){a.length=a.length-2*e,i.length=i.length-e,o.length=o.length-e}(1),f=a[a.length-1]}p=u,u=2,m=s[f=a[a.length-1]]&&s[f][2],c=3}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+f+", token: "+u);switch(m[0]){case 1:a.push(u),i.push(this.lexer.yytext),o.push(this.lexer.yylloc),a.push(m[1]),u=null,p?(u=p,p=null):(h=this.lexer.yyleng,n=this.lexer.yytext,l=this.lexer.yylineno,d=this.lexer.yylloc,c>0&&c--);break;case 2:if(y=this.productions_[m[1]][1],x.$=i[i.length-y],x._$={first_line:o[o.length-(y||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(y||1)].first_column,last_column:o[o.length-1].last_column},void 0!==(v=this.performAction.call(x,n,h,l,this.yy,m[1],i,o)))return v;y&&(a=a.slice(0,-1*y*2),i=i.slice(0,-1*y),o=o.slice(0,-1*y)),a.push(this.productions_[m[1]][0]),i.push(x.$),o.push(x._$),b=s[a[a.length-2]][a[a.length-1]],a.push(b);break;case 3:return!0}}return!0}},t=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parseError)throw new Error(e);this.yy.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.match+=e,this.matched+=e,e.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),e},unput:function(e){return this._input=e+this._input,this},more:function(){return this._more=!0,this},less:function(e){this._input=this.match.slice(e)+this._input},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,r,a,i;this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),s=0;s<o.length&&(!(r=this._input.match(this.rules[o[s]]))||t&&!(r[0].length>t[0].length)||(t=r,a=s,this.options.flex));s++);return t?((i=t[0].match(/\n.*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-1:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[a],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,r,a){switch(r){case 0:break;case 1:return 6;case 2:return t.yytext=t.yytext.substr(1,t.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},e.rules=[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],e.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}},e}();return e.lexer=t,e}();void 0!==e&&void 0!==r&&(r.parser=a,r.parse=a.parse.bind(a))},{}],66:[function(e,t,r){"use strict";var a=e("./ace"),i=e("./ModeSwitcher"),o=e("./util"),s={};s.create=function(t,r){r=r||{},this.options=r,r.indentation?this.indentation=Number(r.indentation):this.indentation=2;var s=r.ace?r.ace:a;if(this.mode="code"==r.mode?"code":"text","code"==this.mode&&void 0===s&&(this.mode="text",console.warn("Failed to load Ace editor, falling back to plain text mode. Please use a JSONEditor bundle including Ace, or pass Ace as via the configuration option `ace`.")),this.theme=r.theme||"ace/theme/jsoneditor","ace/theme/jsoneditor"===this.theme&&s)try{e("./ace/theme-jsoneditor")}catch(e){console.error(e)}var n=this;this.container=t,this.dom={},this.aceEditor=void 0,this.textarea=void 0,this.validateSchema=null,this._debouncedValidate=o.debounce(this.validate.bind(this),this.DEBOUNCE_INTERVAL),this.width=t.clientWidth,this.height=t.clientHeight,this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode,this.frame.onclick=function(e){e.preventDefault()},this.frame.onkeydown=function(e){n._onKeyDown(e)},this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu);var l=document.createElement("button");l.type="button",l.className="jsoneditor-format",l.title="Format JSON data, with proper indentation and line feeds (Ctrl+\\)",this.menu.appendChild(l),l.onclick=function(){try{n.format(),n._onChange()}catch(e){n._onError(e)}};var h=document.createElement("button");h.type="button",h.className="jsoneditor-compact",h.title="Compact JSON data, remove all whitespaces (Ctrl+Shift+\\)",this.menu.appendChild(h),h.onclick=function(){try{n.compact(),n._onChange()}catch(e){n._onError(e)}},this.options&&this.options.modes&&this.options.modes.length&&(this.modeSwitcher=new i(this.menu,this.options.modes,this.options.mode,function(e){n.setMode(e),n.modeSwitcher.focus()}));var c={},d=this.options.onEditable&&typeof("function"===this.options.onEditable)&&!this.options.onEditable(c);if(this.content=document.createElement("div"),this.content.className="jsoneditor-outer",this.frame.appendChild(this.content),this.container.appendChild(this.frame),"code"==this.mode){this.editorDom=document.createElement("div"),this.editorDom.style.height="100%",this.editorDom.style.width="100%",this.content.appendChild(this.editorDom);var u=s.edit(this.editorDom);u.$blockScrolling=1/0,u.setTheme(this.theme),u.setOptions({readOnly:d}),u.setShowPrintMargin(!1),u.setFontSize(13),u.getSession().setMode("ace/mode/json"),u.getSession().setTabSize(this.indentation),u.getSession().setUseSoftTabs(!0),u.getSession().setUseWrapMode(!0),u.commands.bindKey("Ctrl-L",null),u.commands.bindKey("Command-L",null),this.aceEditor=u,this.hasOwnProperty("editor")||Object.defineProperty(this,"editor",{get:function(){return console.warn('Property "editor" has been renamed to "aceEditor".'),n.aceEditor},set:function(e){console.warn('Property "editor" has been renamed to "aceEditor".'),n.aceEditor=e}});var p=document.createElement("a");p.appendChild(document.createTextNode("powered by ace")),p.href="http://ace.ajax.org",p.target="_blank",p.className="jsoneditor-poweredBy",p.onclick=function(){window.open(p.href,p.target)},this.menu.appendChild(p),u.on("change",this._onChange.bind(this))}else{var f=document.createElement("textarea");f.className="jsoneditor-text",f.spellcheck=!1,this.content.appendChild(f),this.textarea=f,this.textarea.readOnly=d,null===this.textarea.oninput?this.textarea.oninput=this._onChange.bind(this):this.textarea.onchange=this._onChange.bind(this)}this.setSchema(this.options.schema)},s._onChange=function(){if(this._debouncedValidate(),this.options.onChange)try{this.options.onChange()}catch(e){console.error("Error in onChange callback: ",e)}},s._onKeyDown=function(e){var t=!1;220==(e.which||e.keyCode)&&e.ctrlKey&&(e.shiftKey?(this.compact(),this._onChange()):(this.format(),this._onChange()),t=!0),t&&(e.preventDefault(),e.stopPropagation())},s.destroy=function(){this.aceEditor&&(this.aceEditor.destroy(),this.aceEditor=null),this.frame&&this.container&&this.frame.parentNode==this.container&&this.container.removeChild(this.frame),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null),this.textarea=null,this._debouncedValidate=null},s.compact=function(){var e=this.get(),t=JSON.stringify(e);this.setText(t)},s.format=function(){var e=this.get(),t=JSON.stringify(e,null,this.indentation);this.setText(t)},s.focus=function(){this.textarea&&this.textarea.focus(),this.aceEditor&&this.aceEditor.focus()},s.resize=function(){if(this.aceEditor){this.aceEditor.resize(!1)}},s.set=function(e){this.setText(JSON.stringify(e,null,this.indentation))},s.get=function(){var e,t=this.getText();try{e=o.parse(t)}catch(r){t=o.sanitize(t),e=o.parse(t)}return e},s.getText=function(){return this.textarea?this.textarea.value:this.aceEditor?this.aceEditor.getValue():""},s.setText=function(e){var t;if(t=!0===this.options.escapeUnicode?o.escapeUnicodeChars(e):e,this.textarea&&(this.textarea.value=t),this.aceEditor){var r=this.options.onChange;this.options.onChange=null,this.aceEditor.setValue(t,-1),this.options.onChange=r}this.validate()},s.validate=function(){this.dom.validationErrors&&(this.dom.validationErrors.parentNode.removeChild(this.dom.validationErrors),this.dom.validationErrors=null,this.content.style.marginBottom="",this.content.style.paddingBottom="");var e,t=!1,r=[];try{e=this.get(),t=!0}catch(e){}if(t&&this.validateSchema&&(this.validateSchema(e)||(r=this.validateSchema.errors.map(function(e){return o.improveSchemaError(e)}))),r.length>0){if(r.length>3){r=r.slice(0,3);var a=this.validateSchema.errors.length-3;r.push("("+a+" more errors...)")}var i=document.createElement("div");i.innerHTML='<table class="jsoneditor-text-errors"><tbody>'+r.map(function(e){return'<tr><td><button class="jsoneditor-schema-error"></button></td>'+("string"==typeof e?'<td colspan="2"><pre>'+e+"</pre></td>":"<td>"+e.dataPath+"</td><td>"+e.message+"</td>")+"</tr>"}).join("")+"</tbody></table>",this.dom.validationErrors=i,this.frame.appendChild(i);var s=i.clientHeight;this.content.style.marginBottom=-s+"px",this.content.style.paddingBottom=s+"px"}if(this.aceEditor){this.aceEditor.resize(!1)}},t.exports=[{mode:"text",mixin:s,data:"text",load:s.format},{mode:"code",mixin:s,data:"text",load:s.format}]},{"./ModeSwitcher":59,"./ace":62,"./ace/theme-jsoneditor":63,"./util":68}],67:[function(e,t,r){"use strict";var a=e("./Highlighter"),i=e("./History"),o=e("./SearchBox"),s=e("./ContextMenu"),n=e("./Node"),l=e("./ModeSwitcher"),h=e("./util"),c={};c.create=function(e,t){if(!e)throw new Error("No container element provided.");this.container=e,this.dom={},this.highlighter=new a,this.selection=void 0,this.multiselection={nodes:[]},this.validateSchema=null,this.errorNodes=[],this.node=null,this.focusTarget=null,this._setOptions(t),this.options.history&&"view"!==this.options.mode&&(this.history=new i(this)),this._createFrame(),this._createTable()},c.destroy=function(){this.frame&&this.container&&this.frame.parentNode==this.container&&(this.container.removeChild(this.frame),this.frame=null),this.container=null,this.dom=null,this.clear(),this.node=null,this.focusTarget=null,this.selection=null,this.multiselection=null,this.errorNodes=null,this.validateSchema=null,this._debouncedValidate=null,this.history&&(this.history.destroy(),this.history=null),this.searchBox&&(this.searchBox.destroy(),this.searchBox=null),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null)},c._setOptions=function(e){if(this.options={search:!0,history:!0,mode:"tree",name:void 0,schema:null},e)for(var t in e)e.hasOwnProperty(t)&&(this.options[t]=e[t]);this.setSchema(this.options.schema),this._debouncedValidate=h.debounce(this.validate.bind(this),this.DEBOUNCE_INTERVAL)},c.set=function(e,t){if(t&&(console.warn('Second parameter "name" is deprecated. Use setName(name) instead.'),this.options.name=t),e instanceof Function||void 0===e)this.clear();else{this.content.removeChild(this.table);var r={field:this.options.name,value:e},a=new n(this,r);this._setRoot(a),this.validate();this.node.expand(!1),this.content.appendChild(this.table)}this.history&&this.history.clear(),this.searchBox&&this.searchBox.clear()},c.get=function(){if(this.focusTarget){var e=n.getNodeFromTarget(this.focusTarget);e&&e.blur()}return this.node?this.node.getValue():void 0},c.getText=function(){return JSON.stringify(this.get())},c.setText=function(e){this.set(h.parse(e))},c.setName=function(e){this.options.name=e,this.node&&this.node.updateField(this.options.name)},c.getName=function(){return this.options.name},c.focus=function(){var e=this.content.querySelector("[contenteditable=true]");e?e.focus():this.node.dom.expand?this.node.dom.expand.focus():this.node.dom.menu?this.node.dom.menu.focus():(e=this.frame.querySelector("button"))&&e.focus()},c.clear=function(){this.node&&(this.node.collapse(),this.tbody.removeChild(this.node.getDom()),delete this.node)},c._setRoot=function(e){this.clear(),this.node=e,this.tbody.appendChild(e.getDom())},c.search=function(e){var t;return this.node?(this.content.removeChild(this.table),t=this.node.search(e),this.content.appendChild(this.table)):t=[],t},c.expandAll=function(){this.node&&(this.content.removeChild(this.table),this.node.expand(),this.content.appendChild(this.table))},c.collapseAll=function(){this.node&&(this.content.removeChild(this.table),this.node.collapse(),this.content.appendChild(this.table))},c._onAction=function(e,t){this.history&&this.history.add(e,t),this._onChange()},c._onChange=function(){if(this._debouncedValidate(),this.options.onChange)try{this.options.onChange()}catch(e){console.error("Error in onChange callback: ",e)}},c.validate=function(){this.errorNodes&&this.errorNodes.forEach(function(e){e.setError(null)});var e=this.node;if(e){var t=e.validate(),r=[];this.validateSchema&&(this.validateSchema(e.getValue())||(r=this.validateSchema.errors.map(function(e){return h.improveSchemaError(e)}).map(function(t){return{node:e.findNode(t.dataPath),error:t}}).filter(function(e){return null!=e.node}))),this.errorNodes=t.concat(r).reduce(function(e,t){return t.node.findParents().map(function(e){return{node:e,child:t.node,error:{message:"object"===e.type?"Contains invalid properties":"Contains invalid items"}}}).concat(e,[t])},[]).map(function(e){return e.node.setError(e.error,e.child),e.node})}},c.refresh=function(){this.node&&this.node.updateDom({recurse:!0})},c.startAutoScroll=function(e){var t=this,r=this.content,a=h.getAbsoluteTop(r),i=r.clientHeight,o=a+i;e<a+24&&r.scrollTop>0?this.autoScrollStep=(a+24-e)/3:e>o-24&&i+r.scrollTop<r.scrollHeight?this.autoScrollStep=(o-24-e)/3:this.autoScrollStep=void 0,this.autoScrollStep?this.autoScrollTimer||(this.autoScrollTimer=setInterval(function(){t.autoScrollStep?r.scrollTop-=t.autoScrollStep:t.stopAutoScroll()},50)):this.stopAutoScroll()},c.stopAutoScroll=function(){this.autoScrollTimer&&(clearTimeout(this.autoScrollTimer),delete this.autoScrollTimer),this.autoScrollStep&&delete this.autoScrollStep},c.setSelection=function(e){e&&("scrollTop"in e&&this.content&&(this.content.scrollTop=e.scrollTop),e.nodes&&this.select(e.nodes),e.range&&h.setSelectionOffset(e.range),e.dom&&e.dom.focus())},c.getSelection=function(){var e=h.getSelectionOffset();return e&&"DIV"!==e.container.nodeName&&(e=null),{dom:this.focusTarget,range:e,nodes:this.multiselection.nodes.slice(0),scrollTop:this.content?this.content.scrollTop:0}},c.scrollTo=function(e,t){var r=this.content;if(r){var a=this;a.animateTimeout&&(clearTimeout(a.animateTimeout),delete a.animateTimeout),a.animateCallback&&(a.animateCallback(!1),delete a.animateCallback);var i=r.clientHeight,o=r.scrollHeight-i,s=Math.min(Math.max(e-i/4,0),o),n=function(){var e=r.scrollTop,i=s-e;Math.abs(i)>3?(r.scrollTop+=i/3,a.animateCallback=t,a.animateTimeout=setTimeout(n,50)):(t&&t(!0),r.scrollTop=s,delete a.animateTimeout,delete a.animateCallback)};n()}else t&&t(!1)},c._createFrame=function(){function e(e){t._onEvent&&t._onEvent(e)}this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode,this.container.appendChild(this.frame);var t=this;this.frame.onclick=function(t){var r=t.target;e(t),"BUTTON"==r.nodeName&&t.preventDefault()},this.frame.oninput=e,this.frame.onchange=e,this.frame.onkeydown=e,this.frame.onkeyup=e,this.frame.oncut=e,this.frame.onpaste=e,this.frame.onmousedown=e,this.frame.onmouseup=e,this.frame.onmouseover=e,this.frame.onmouseout=e,h.addEventListener(this.frame,"focus",e,!0),h.addEventListener(this.frame,"blur",e,!0),this.frame.onfocusin=e,this.frame.onfocusout=e,this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu);var r=document.createElement("button");r.type="button",r.className="jsoneditor-expand-all",r.title="Ouvrir tous les champs",r.onclick=function(){t.expandAll()},this.menu.appendChild(r);var a=document.createElement("button");if(a.type="button",a.title="Fermer tous les champs",a.className="jsoneditor-collapse-all",a.onclick=function(){t.collapseAll()},this.menu.appendChild(a),this.history){var i=document.createElement("button");i.type="button",i.className="jsoneditor-undo jsoneditor-separator",i.title="Annuler la dernière action (Ctrl+Z)",i.onclick=function(){t._onUndo()},this.menu.appendChild(i),this.dom.undo=i;var s=document.createElement("button");s.type="button",s.className="jsoneditor-redo",s.title="Refaire la dernière annulation (Ctrl+Shift+Z)",s.onclick=function(){t._onRedo()},this.menu.appendChild(s),this.dom.redo=s,this.history.onChange=function(){i.disabled=!t.history.canUndo(),s.disabled=!t.history.canRedo()},this.history.onChange()}if(this.options&&this.options.modes&&this.options.modes.length){var n=this;this.modeSwitcher=new l(this.menu,this.options.modes,this.options.mode,function(e){n.modeSwitcher.destroy(),n.setMode(e),n.modeSwitcher.focus()})}this.options.search&&(this.searchBox=new o(this,this.menu))},c._onUndo=function(){this.history&&(this.history.undo(),this._onChange())},c._onRedo=function(){this.history&&(this.history.redo(),this._onChange())},c._onEvent=function(e){"keydown"==e.type&&this._onKeyDown(e),"focus"==e.type&&(this.focusTarget=e.target),"mousedown"==e.type&&this._startDragDistance(e),"mousemove"!=e.type&&"mouseup"!=e.type&&"click"!=e.type||this._updateDragDistance(e);var t=n.getNodeFromTarget(e.target);if(t&&t.selected){if("click"==e.type){if(e.target==t.dom.menu)return void this.showContextMenu(e.target);e.hasMoved||this.deselect()}"mousedown"==e.type&&n.onDragStart(this.multiselection.nodes,e)}else"mousedown"==e.type&&(this.deselect(),t&&e.target==t.dom.drag?n.onDragStart(t,e):(!t||e.target!=t.dom.field&&e.target!=t.dom.value&&e.target!=t.dom.select)&&this._onMultiSelectStart(e));t&&t.onEvent(e)},c._startDragDistance=function(e){this.dragDistanceEvent={initialTarget:e.target,initialPageX:e.pageX,initialPageY:e.pageY,dragDistance:0,hasMoved:!1}},c._updateDragDistance=function(e){this.dragDistanceEvent||this._startDragDistance(e);var t=e.pageX-this.dragDistanceEvent.initialPageX,r=e.pageY-this.dragDistanceEvent.initialPageY;return this.dragDistanceEvent.dragDistance=Math.sqrt(t*t+r*r),this.dragDistanceEvent.hasMoved=this.dragDistanceEvent.hasMoved||this.dragDistanceEvent.dragDistance>10,e.dragDistance=this.dragDistanceEvent.dragDistance,e.hasMoved=this.dragDistanceEvent.hasMoved,e.dragDistance},c._onMultiSelectStart=function(e){var t=n.getNodeFromTarget(e.target);if("tree"===this.options.mode&&void 0===this.options.onEditable){this.multiselection={start:t||null,end:null,nodes:[]},this._startDragDistance(e);var r=this;this.mousemove||(this.mousemove=h.addEventListener(window,"mousemove",function(e){r._onMultiSelect(e)})),this.mouseup||(this.mouseup=h.addEventListener(window,"mouseup",function(e){r._onMultiSelectEnd(e)}))}},c._onMultiSelect=function(e){if(e.preventDefault(),this._updateDragDistance(e),e.hasMoved){var t=n.getNodeFromTarget(e.target);t&&(null==this.multiselection.start&&(this.multiselection.start=t),this.multiselection.end=t),this.deselect();var r=this.multiselection.start,a=this.multiselection.end||this.multiselection.start;r&&a&&(this.multiselection.nodes=this._findTopLevelNodes(r,a),this.select(this.multiselection.nodes))}},c._onMultiSelectEnd=function(e){this.multiselection.nodes[0]&&this.multiselection.nodes[0].dom.menu.focus(),this.multiselection.start=null,this.multiselection.end=null,this.mousemove&&(h.removeEventListener(window,"mousemove",this.mousemove),delete this.mousemove),this.mouseup&&(h.removeEventListener(window,"mouseup",this.mouseup),delete this.mouseup)},c.deselect=function(e){this.multiselection.nodes.forEach(function(e){e.setSelected(!1)}),this.multiselection.nodes=[],e&&(this.multiselection.start=null,this.multiselection.end=null)},c.select=function(e){if(!Array.isArray(e))return this.select([e]);if(e){this.deselect(),this.multiselection.nodes=e.slice(0);var t=e[0];e.forEach(function(e){e.setSelected(!0,e===t)})}},c._findTopLevelNodes=function(e,t){for(var r=e.getNodePath(),a=t.getNodePath(),i=0;i<r.length&&r[i]===a[i];)i++;var o=r[i-1],s=r[i],n=a[i];if(s&&n||(o.parent?(s=o,n=o,o=o.parent):(s=o.childs[0],n=o.childs[o.childs.length-1])),o&&s&&n){var l=o.childs.indexOf(s),h=o.childs.indexOf(n),c=Math.min(l,h),d=Math.max(l,h);return o.childs.slice(c,d+1)}return[]},c._onKeyDown=function(e){var t=e.which||e.keyCode,r=e.ctrlKey,a=e.shiftKey,i=!1;if(9==t){var o=this;setTimeout(function(){h.selectContentEditable(o.focusTarget)},0)}if(this.searchBox)if(r&&70==t)this.searchBox.dom.search.focus(),this.searchBox.dom.search.select(),i=!0;else if(114==t||r&&71==t){a?this.searchBox.previous(!0):this.searchBox.next(!0),i=!0}this.history&&(r&&!a&&90==t?(this._onUndo(),i=!0):r&&a&&90==t&&(this._onRedo(),i=!0)),i&&(e.preventDefault(),e.stopPropagation())},c._createTable=function(){var e=document.createElement("div");e.className="jsoneditor-outer",this.contentOuter=e,this.content=document.createElement("div"),this.content.className="jsoneditor-tree",e.appendChild(this.content),this.table=document.createElement("table"),this.table.className="jsoneditor-tree",this.content.appendChild(this.table);var t;this.colgroupContent=document.createElement("colgroup"),"tree"===this.options.mode&&((t=document.createElement("col")).width="24px",this.colgroupContent.appendChild(t)),(t=document.createElement("col")).width="24px",this.colgroupContent.appendChild(t),t=document.createElement("col"),this.colgroupContent.appendChild(t),this.table.appendChild(this.colgroupContent),this.tbody=document.createElement("tbody"),this.table.appendChild(this.tbody),this.frame.appendChild(e)},c.showContextMenu=function(e,t){var r=[],a=this;r.push({text:"Dupliquer",title:"Dupliquer les champs (Ctrl+D)",className:"jsoneditor-duplicate",click:function(){n.onDuplicate(a.multiselection.nodes)}}),r.push({text:"Supprimer",title:"Supprimer les champs (Ctrl+Del)",className:"jsoneditor-remove",click:function(){n.onRemove(a.multiselection.nodes)}}),new s(r,{close:t}).show(e,this.content)},t.exports=[{mode:"tree",mixin:c,data:"json"},{mode:"view",mixin:c,data:"json"},{mode:"form",mixin:c,data:"json"}]},{"./ContextMenu":55,"./Highlighter":56,"./History":57,"./ModeSwitcher":59,"./Node":60,"./SearchBox":61,"./util":68}],68:[function(e,t,r){"use strict";var a=e("./assets/jsonlint/jsonlint");r.parse=function(e){try{return JSON.parse(e)}catch(t){throw r.validate(e),t}},r.sanitize=function(e){function t(){return e.charAt(o)}function r(){return e.charAt(o+1)}function a(){return e.charAt(o-1)}var i=[],o=0,s=e.match(/^\s*(\/\*(.|[\r\n])*?\*\/)?\s*[\da-zA-Z_$]+\s*\(([\s\S]*)\)\s*;?\s*$/);for(s&&(e=s[3]);o<e.length;){var n=t();"/"===n&&"*"===r()?function(){for(o+=2;o<e.length&&("*"!==t()||"/"!==r());)o++;o+=2}():"/"===n&&"/"===r()?function(){for(o+=2;o<e.length&&"\n"!==t();)o++}():"'"===n||'"'===n?function(r){i.push('"'),o++;for(var s=t();o<e.length&&s!==r;)'"'===s&&"\\"!==a()&&i.push("\\"),"\\"===s&&(o++,"'"!==(s=t())&&i.push("\\")),i.push(s),o++,s=t();s===r&&(i.push('"'),o++)}(n):/[a-zA-Z_$]/.test(n)&&-1!==["{",","].indexOf(function(){for(var e=i.length-1;e>=0;){var t=i[e];if(" "!==t&&"\n"!==t&&"\r"!==t&&"\t"!==t)return t;e--}return""}())?function(){for(var e=["null","true","false"],r="",a=t(),s=/[a-zA-Z_$\d]/;s.test(a);)r+=a,o++,a=t();-1===e.indexOf(r)?i.push('"'+r+'"'):i.push(r)}():(i.push(n),o++)}return i.join("")},r.escapeUnicodeChars=function(e){return e.replace(/[\u007F-\uFFFF]/g,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})},r.validate=function(e){void 0!==a?a.parse(e):JSON.parse(e)},r.extend=function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},r.clear=function(e){for(var t in e)e.hasOwnProperty(t)&&delete e[t];return e},r.type=function(e){return null===e?"null":void 0===e?"undefined":e instanceof Number||"number"==typeof e?"number":e instanceof String||"string"==typeof e?"string":e instanceof Boolean||"boolean"==typeof e?"boolean":e instanceof RegExp||"regexp"==typeof e?"regexp":r.isArray(e)?"array":"object"};var i=/^https?:\/\/\S+$/;r.isUrl=function(e){return("string"==typeof e||e instanceof String)&&i.test(e)},r.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},r.getAbsoluteLeft=function(e){return e.getBoundingClientRect().left+window.pageXOffset||document.scrollLeft||0},r.getAbsoluteTop=function(e){return e.getBoundingClientRect().top+window.pageYOffset||document.scrollTop||0},r.addClassName=function(e,t){var r=e.className.split(" ");-1==r.indexOf(t)&&(r.push(t),e.className=r.join(" "))},r.removeClassName=function(e,t){var r=e.className.split(" "),a=r.indexOf(t);-1!=a&&(r.splice(a,1),e.className=r.join(" "))},r.stripFormatting=function(e){for(var t=e.childNodes,a=0,i=t.length;a<i;a++){var o=t[a];o.style&&o.removeAttribute("style");var s=o.attributes;if(s)for(var n=s.length-1;n>=0;n--){var l=s[n];!0===l.specified&&o.removeAttribute(l.name)}r.stripFormatting(o)}},r.setEndOfContentEditable=function(e){var t,r;document.createRange&&((t=document.createRange()).selectNodeContents(e),t.collapse(!1),(r=window.getSelection()).removeAllRanges(),r.addRange(t))},r.selectContentEditable=function(e){if(e&&"DIV"==e.nodeName){var t,r;window.getSelection&&document.createRange&&((r=document.createRange()).selectNodeContents(e),(t=window.getSelection()).removeAllRanges(),t.addRange(r))}},r.getSelection=function(){if(window.getSelection){var e=window.getSelection();if(e.getRangeAt&&e.rangeCount)return e.getRangeAt(0)}return null},r.setSelection=function(e){if(e&&window.getSelection){var t=window.getSelection();t.removeAllRanges(),t.addRange(e)}},r.getSelectionOffset=function(){var e=r.getSelection();return e&&"startOffset"in e&&"endOffset"in e&&e.startContainer&&e.startContainer==e.endContainer?{startOffset:e.startOffset,endOffset:e.endOffset,container:e.startContainer.parentNode}:null},r.setSelectionOffset=function(e){if(document.createRange&&window.getSelection&&window.getSelection()){var t=document.createRange();e.container.firstChild||e.container.appendChild(document.createTextNode("")),t.setStart(e.container.firstChild,e.startOffset),t.setEnd(e.container.firstChild,e.endOffset),r.setSelection(t)}},r.getInnerText=function(e,t){if(void 0==t&&(t={text:"",flush:function(){var e=this.text;return this.text="",e},set:function(e){this.text=e}}),e.nodeValue)return t.flush()+e.nodeValue;if(e.hasChildNodes()){for(var a=e.childNodes,i="",o=0,s=a.length;o<s;o++){var n=a[o];if("DIV"==n.nodeName||"P"==n.nodeName){var l=a[o-1],h=l?l.nodeName:void 0;h&&"DIV"!=h&&"P"!=h&&"BR"!=h&&(i+="\n",t.flush()),i+=r.getInnerText(n,t),t.set("\n")}else"BR"==n.nodeName?(i+=t.flush(),t.set("\n")):i+=r.getInnerText(n,t)}return i}return"P"==e.nodeName&&-1!=r.getInternetExplorerVersion()?t.flush():""},r.getInternetExplorerVersion=function(){if(-1==o){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))}o=e}return o},r.isFirefox=function(){return-1!=navigator.userAgent.indexOf("Firefox")};var o=-1;r.addEventListener=function(e,t,a,i){if(e.addEventListener)return void 0===i&&(i=!1),"mousewheel"===t&&r.isFirefox()&&(t="DOMMouseScroll"),e.addEventListener(t,a,i),a;if(e.attachEvent){var o=function(){return a.call(e,window.event)};return e.attachEvent("on"+t,o),o}},r.removeEventListener=function(e,t,a,i){e.removeEventListener?(void 0===i&&(i=!1),"mousewheel"===t&&r.isFirefox()&&(t="DOMMouseScroll"),e.removeEventListener(t,a,i)):e.detachEvent&&e.detachEvent("on"+t,a)},r.parsePath=function e(t){var r,a;if(0===t.length)return[];var i=t.match(/^\.(\w+)/);if(i)r=i[1],a=t.substr(r.length+1);else{if("["!==t[0])throw new SyntaxError("Failed to parse path");var o=t.indexOf("]");if(-1===o)throw new SyntaxError("Character ] expected in path");if(1===o)throw new SyntaxError("Index expected after [");var s=t.substring(1,o);"'"===s[0]&&(s='"'+s.substring(1,s.length-1)+'"'),r="*"===s?s:JSON.parse(s),a=t.substr(o+1)}return[r].concat(e(a))},r.improveSchemaError=function(e){if("enum"===e.keyword&&Array.isArray(e.schema)){var t=e.schema;if(t){if((t=t.map(function(e){return JSON.stringify(e)})).length>5){var r=["("+(t.length-5)+" more...)"];(t=t.slice(0,5)).push(r)}e.message="should be equal to one of: "+t.join(", ")}}return"additionalProperties"===e.keyword&&(e.message="should NOT have additional property: "+e.params.additionalProperty),e},r.insideRect=function(e,t,r){var a=void 0!==r?r:0;return t.left-a>=e.left&&t.right+a<=e.right&&t.top-a>=e.top&&t.bottom+a<=e.bottom},r.debounce=function(e,t,r){var a;return function(){var i=this,o=arguments,s=r&&!a;clearTimeout(a),a=setTimeout(function(){a=null,r||e.apply(i,o)},t),s&&e.apply(i,o)}},r.textDiff=function(e,t){for(var r=t.length,a=0,i=e.length,o=t.length;t.charAt(a)===e.charAt(a)&&a<r;)a++;for(;t.charAt(o-1)===e.charAt(i-1)&&o>a&&i>0;)o--,i--;return{start:a,end:o}}},{"./assets/jsonlint/jsonlint":65}]},{},[7])(7)});